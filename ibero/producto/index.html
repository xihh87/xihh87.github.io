<!doctype html><html lang=es-mx><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Joshua Haase</title><link rel=stylesheet media=screen href=https://joshua.haase.mx/css/theme.min.2ee1317322f9eb9b2ef0a618d19b20e38c11f5f9c310751400a45db225dd2626.css integrity="sha256-LuExcyL565su8KYY0Zsg44wR9fnDEHUUAKRdsiXdJiY="></head><body><main><article><nav id=TableOfContents></nav><p>Genera un programa en R o python que tome una lista de</p><p>Cómo transponer una combinaciones en R como una lista.</p><p>Quiero hacer un conteo de los elementos que se compran juntos.
Tengo una lista que quiero agrupar por ventas combinación de (fecha y comprador).
Luego quiero encontrar las combinaciones de los productos de cada compra.</p><p>Por favor haz un programa en R o python que lo haga,
mis datos tienen esta estructura:</p><p>Fecha, Cliente, Producto, Cantidad, Precio, Subtotal</p><pre tabindex=0><code>python
import pandas as pd
from itertools import combinations
from collections import Counter

# Supongamos que tus datos están en un archivo CSV llamado &#39;ventas.csv&#39;
# Lee los datos
df = pd.read_csv(&#39;ventas.csv&#39;)

# Agrupa por Fecha y Cliente, y obtiene los productos de cada compra como lista
grupo = df.groupby([&#39;Fecha&#39;, &#39;Cliente&#39;])[&#39;Producto&#39;].apply(list)

# Para cada compra, calcula todas las combinaciones de productos posibles (pares, tríos, ...)
def obtener_combos(productos):
    resultado = []
    n = len(productos)
    for r in range(2, n+1):
        resultado.extend(combinations(sorted(productos), r))
    return resultado

# Genera todas las combinaciones para todas las compras
todos_los_combos = []
for productos in grupo:
    combos = obtener_combos(productos)
    todos_los_combos.extend(combos)

# Cuenta todas las combinaciones
conteo = Counter(todos_los_combos)

# Convierte a dataframe para ver y filtrar resultados
resultados = pd.DataFrame([
    (&#34; + &#34;.join(combo), cantidad) for combo, cantidad in conteo.items()
], columns=[&#39;Combinación&#39;, &#39;Veces&#39;])

# Opcional: muestra las combinaciones más comunes
resultados = resultados.sort_values(&#39;Veces&#39;, ascending=False)
print(resultados)
</code></pre><p>How to transform an adjacent list to a matrix?</p><p>To transform an adjacency list to an adjacency matrix:</p><ol><li>Identify the number of vertices <strong>N</strong>.</li><li>Initialize an N×N matrix <strong>M</strong> with zeros.</li><li>For each vertex <strong>u</strong> in the adjacency list:<ul><li>For each neighbor <strong>v</strong> of <strong>u</strong>:<ul><li>Set M[u][v] = 1 (or the edge weight if weighted).</li></ul></li></ul></li></ol><p>Example:</p><p>Adjacency list:
0: [1, 2]
1: [2]
2: [0, 3]
3: []</p><p>Corresponding adjacency matrix M (4×4):</p><table><thead><tr><th></th><th>0</th><th>1</th><th>2</th><th>3</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>1</td><td>1</td><td>0</td></tr><tr><td>1</td><td>0</td><td>0</td><td>1</td><td>0</td></tr><tr><td>2</td><td>1</td><td>0</td><td>0</td><td>1</td></tr><tr><td>3</td><td>0</td><td>0</td><td>0</td><td>0</td></tr></tbody></table><p>This method applies to directed or undirected graphs (for undirected, mark both M[u][v] and M[v][u]).</p><p>Please write a code to transform an adjacent list to a matrix</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>adjacency_list_to_matrix</span>(adj_list):
</span></span><span style=display:flex><span>    n <span style=color:#f92672>=</span> len(adj_list)
</span></span><span style=display:flex><span>    matrix <span style=color:#f92672>=</span> [[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>*</span> n <span style=color:#66d9ef>for</span> _ <span style=color:#f92672>in</span> range(n)]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i, neighbors <span style=color:#f92672>in</span> enumerate(adj_list):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> j <span style=color:#f92672>in</span> neighbors:
</span></span><span style=display:flex><span>            matrix[i][j] <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> matrix
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Example usage:</span>
</span></span><span style=display:flex><span><span style=color:#75715e># adj_list = [[1, 2], [0], [0]]</span>
</span></span><span style=display:flex><span><span style=color:#75715e># print(adjacency_list_to_matrix(adj_list))</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Output:</span>
</span></span><span style=display:flex><span><span style=color:#75715e># [[0, 1, 1],</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#  [1, 0, 0],</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#  [1, 0, 0]]</span>
</span></span></code></pre></div></article></main></body></html>