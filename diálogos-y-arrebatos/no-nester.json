[{'text': "I have to admit I'm a never Nester", 'start': 0.24, 'duration': 6.599}, {'text': 'I know shocking', 'start': 4.02, 'duration': 4.579}, {'text': 'but there are more of us than you think', 'start': 6.839, 'duration': 5.34}, {'text': 'dozens even Linus torvill does one I', 'start': 8.599, 'duration': 6.16}, {'text': "mean I haven't asked him but I'll show", 'start': 12.179, 'duration': 4.2}, {'text': 'you what I mean in a little bit', 'start': 14.759, 'duration': 3.661}, {'text': 'you might be wondering well what is a', 'start': 16.379, 'duration': 3.361}, {'text': 'never Nester', 'start': 18.42, 'duration': 3.8}, {'text': 'I never Nester never nests their code', 'start': 19.74, 'duration': 6.66}, {'text': 'okay not never but we do have a', 'start': 22.22, 'duration': 5.74}, {'text': 'disgusting meter which grows', 'start': 26.4, 'duration': 4.02}, {'text': 'uncontrollably as the number of Tabs go', 'start': 27.96, 'duration': 3.54}, {'text': 'up', 'start': 30.42, 'duration': 3.479}, {'text': 'nesting code is when you add more inner', 'start': 31.5, 'duration': 4.86}, {'text': "blocks to a function we'll consider each", 'start': 33.899, 'duration': 5.34}, {'text': 'open brace to be adding one more depth', 'start': 36.36, 'duration': 4.68}, {'text': 'to the function', 'start': 39.239, 'duration': 3.781}, {'text': 'so this function is one deep because', 'start': 41.04, 'duration': 4.38}, {'text': "there's no inner blocks", 'start': 43.02, 'duration': 4.44}, {'text': "and if we add an if statement we've made", 'start': 45.42, 'duration': 3.84}, {'text': 'it too deep', 'start': 47.46, 'duration': 4.2}, {'text': "if we add a loop we've now made this", 'start': 49.26, 'duration': 4.92}, {'text': 'function three deep', 'start': 51.66, 'duration': 4.98}, {'text': 'and this my fellow programmers is the', 'start': 54.18, 'duration': 4.98}, {'text': 'maximum and never Nester can handle', 'start': 56.64, 'duration': 5.04}, {'text': "a never Nester doesn't dare to go for it", 'start': 59.16, 'duration': 3.3}, {'text': 'deep', 'start': 61.68, 'duration': 3.0}, {'text': 'now the perverse among you might wonder', 'start': 62.46, 'duration': 5.28}, {'text': 'what four deep even looks like and while', 'start': 64.68, 'duration': 5.34}, {'text': 'it brings me great pain to do I', 'start': 67.74, 'duration': 4.26}, {'text': 'understand that I must show you for', 'start': 70.02, 'duration': 3.12}, {'text': 'science', 'start': 72.0, 'duration': 4.42}, {'text': 'here is for deep', 'start': 73.14, 'duration': 12.909}, {'text': '[Music]', 'start': 76.42, 'duration': 9.629}, {'text': "we've now taken a reasonably readable", 'start': 86.78, 'duration': 4.839}, {'text': 'function and dramatically increased the', 'start': 89.4, 'duration': 3.84}, {'text': 'amount of conditions your brain must', 'start': 91.619, 'duration': 3.481}, {'text': 'simultaneously hold', 'start': 93.24, 'duration': 4.019}, {'text': 'but what can we do about it', 'start': 95.1, 'duration': 4.379}, {'text': "well there's two methods you can use to", 'start': 97.259, 'duration': 4.86}, {'text': 'de-nest extraction', 'start': 99.479, 'duration': 4.441}, {'text': 'this is where you pull out part of the', 'start': 102.119, 'duration': 3.841}, {'text': 'function into its own function', 'start': 103.92, 'duration': 3.659}, {'text': 'an inversion', 'start': 105.96, 'duration': 3.6}, {'text': 'which is simply flipping conditions and', 'start': 107.579, 'duration': 4.741}, {'text': 'switching to an early return', 'start': 109.56, 'duration': 5.58}, {'text': "let's look at extraction first", 'start': 112.32, 'duration': 4.38}, {'text': 'we can extract the inner part of the', 'start': 115.14, 'duration': 4.939}, {'text': 'loop into its own function', 'start': 116.7, 'duration': 3.379}, {'text': 'now we can apply inversion', 'start': 121.759, 'duration': 5.561}, {'text': 'when you put the happy path of code', 'start': 125.399, 'duration': 4.381}, {'text': 'within deeper and deeper blocks it', 'start': 127.32, 'duration': 4.919}, {'text': "creates a lot of nesting instead we'll", 'start': 129.78, 'duration': 4.5}, {'text': 'invert the condition and put the unhappy', 'start': 132.239, 'duration': 4.261}, {'text': 'first', 'start': 134.28, 'duration': 4.319}, {'text': "first we'll flip our if else by", 'start': 136.5, 'duration': 4.56}, {'text': 'inverting the condition', 'start': 138.599, 'duration': 4.921}, {'text': 'now since we can return here we know', 'start': 141.06, 'duration': 4.319}, {'text': "that the else block isn't actually", 'start': 143.52, 'duration': 4.56}, {'text': 'needed so we can flatten our else into', 'start': 145.379, 'duration': 4.261}, {'text': 'the main level', 'start': 148.08, 'duration': 4.08}, {'text': 'now if we hit our unhappy case condition', 'start': 149.64, 'duration': 5.819}, {'text': 'here we simply get out of the way and', 'start': 152.16, 'duration': 4.799}, {'text': 'then the main part of the code can do', 'start': 155.459, 'duration': 3.92}, {'text': 'its job', 'start': 156.959, 'duration': 2.42}, {'text': 'when you have a lot of conditions to', 'start': 159.959, 'duration': 4.14}, {'text': 'check like this we can apply inversion', 'start': 161.7, 'duration': 5.1}, {'text': 'over and over again and we end up with a', 'start': 164.099, 'duration': 5.28}, {'text': 'sort of validation gatekeeping section', 'start': 166.8, 'duration': 3.9}, {'text': 'of the code', 'start': 169.379, 'duration': 3.481}, {'text': 'which sort of declares the requirements', 'start': 170.7, 'duration': 4.2}, {'text': 'of the function', 'start': 172.86, 'duration': 3.84}, {'text': 'and then we have the Crux of the real', 'start': 174.9, 'duration': 3.839}, {'text': 'functionality here', 'start': 176.7, 'duration': 3.6}, {'text': "and you'll notice that the happy path", 'start': 178.739, 'duration': 4.021}, {'text': 'moves down the function and all the', 'start': 180.3, 'duration': 6.68}, {'text': "error paths they're indented", 'start': 182.76, 'duration': 4.22}, {'text': 'when reading this code I find I can', 'start': 187.26, 'duration': 4.92}, {'text': 'mentally discard the condition and focus', 'start': 189.72, 'duration': 4.739}, {'text': "on the core code versus when it's nested", 'start': 192.18, 'duration': 3.9}, {'text': 'I find myself having to hold these ideas', 'start': 194.459, 'duration': 3.42}, {'text': 'in my head', 'start': 196.08, 'duration': 3.72}, {'text': "I'm curious if you experienced the same", 'start': 197.879, 'duration': 3.661}, {'text': 'thing', 'start': 199.8, 'duration': 4.62}, {'text': "let's look at a larger example", 'start': 201.54, 'duration': 6.419}, {'text': 'all right look at this beauty', 'start': 204.42, 'duration': 6.899}, {'text': 'before we go refactoring it let me walk', 'start': 207.959, 'duration': 6.06}, {'text': "you through what's happening", 'start': 211.319, 'duration': 4.92}, {'text': 'the goal of this code is to download a', 'start': 214.019, 'duration': 4.621}, {'text': 'bunch of files from the web', 'start': 216.239, 'duration': 5.161}, {'text': 'it talks with this download class that', 'start': 218.64, 'duration': 4.739}, {'text': "we can't alter", 'start': 221.4, 'duration': 4.619}, {'text': "it's an async download so when we start", 'start': 223.379, 'duration': 4.561}, {'text': 'the download we have to call Process', 'start': 226.019, 'duration': 4.201}, {'text': 'over and over again', 'start': 227.94, 'duration': 4.14}, {'text': 'and each time it gives you one of these', 'start': 230.22, 'duration': 4.099}, {'text': 'results', 'start': 232.08, 'duration': 2.239}, {'text': "if it returns in progress we'll need to", 'start': 234.36, 'duration': 5.519}, {'text': 'keep calling process more', 'start': 237.0, 'duration': 4.86}, {'text': 'on top of that you want to download', 'start': 239.879, 'duration': 4.381}, {'text': 'multiple files at once in the background', 'start': 241.86, 'duration': 4.439}, {'text': "so we've created a thread that manages", 'start': 244.26, 'duration': 4.699}, {'text': 'all of them', 'start': 246.299, 'duration': 2.66}, {'text': 'the way new downloads enter the system', 'start': 249.12, 'duration': 4.08}, {'text': 'is through this append download method', 'start': 251.159, 'duration': 4.621}, {'text': 'which puts the requested URLs onto a', 'start': 253.2, 'duration': 4.439}, {'text': 'queue', 'start': 255.78, 'duration': 4.139}, {'text': 'thread then wakes up and grabs the URLs', 'start': 257.639, 'duration': 4.201}, {'text': 'from the queue and then adds them to', 'start': 259.919, 'duration': 5.101}, {'text': 'this list of current downloads', 'start': 261.84, 'duration': 5.7}, {'text': 'each download is given a state which is', 'start': 265.02, 'duration': 6.3}, {'text': 'either pending in progress or complete', 'start': 267.54, 'duration': 6.0}, {'text': 'so on each cycle of the main Loop the', 'start': 271.32, 'duration': 4.14}, {'text': 'thread walks through each download and', 'start': 273.54, 'duration': 5.36}, {'text': 'checks what it needs to do with it', 'start': 275.46, 'duration': 3.44}, {'text': 'ending', 'start': 279.18, 'duration': 3.54}, {'text': 'you start a new download', 'start': 280.32, 'duration': 4.98}, {'text': "if it's complete we simply remove it", 'start': 282.72, 'duration': 5.12}, {'text': 'from the list', 'start': 285.3, 'duration': 2.54}, {'text': "if it's in progress", 'start': 288.419, 'duration': 3.661}, {'text': 'we call that process method we mentioned', 'start': 289.979, 'duration': 4.141}, {'text': "earlier and figure out what's happening", 'start': 292.08, 'duration': 3.48}, {'text': 'with the download', 'start': 294.12, 'duration': 3.48}, {'text': "if it's completed successfully we mark", 'start': 295.56, 'duration': 3.3}, {'text': 'it as complete so it can get removed', 'start': 297.6, 'duration': 2.58}, {'text': 'from the list', 'start': 298.86, 'duration': 3.119}, {'text': 'and in progress means we do nothing', 'start': 300.18, 'duration': 4.079}, {'text': "because it's still ongoing", 'start': 301.979, 'duration': 4.561}, {'text': 'but things get interesting if we hit an', 'start': 304.259, 'duration': 4.081}, {'text': 'error', 'start': 306.54, 'duration': 3.9}, {'text': 'the connection was okay but we got an', 'start': 308.34, 'duration': 4.32}, {'text': 'unhappy HTTP response', 'start': 310.44, 'duration': 3.9}, {'text': 'we determine whether the air is', 'start': 312.66, 'duration': 2.759}, {'text': 'retryable', 'start': 314.34, 'duration': 3.54}, {'text': 'if it is we retry up to three times', 'start': 315.419, 'duration': 6.0}, {'text': 'setting the download back to pending', 'start': 317.88, 'duration': 6.3}, {'text': "once it's failed plenty we ejected from", 'start': 321.419, 'duration': 4.861}, {'text': 'our download list and push it to a', 'start': 324.18, 'duration': 3.54}, {'text': 'failure queue for someone else to deal', 'start': 326.28, 'duration': 2.82}, {'text': 'with', 'start': 327.72, 'duration': 3.72}, {'text': 'for connection air we retry three times', 'start': 329.1, 'duration': 4.439}, {'text': 'then we set this special connection', 'start': 331.44, 'duration': 4.979}, {'text': 'disabled flag and this causes us to', 'start': 333.539, 'duration': 4.5}, {'text': 'basically give up on every download and', 'start': 336.419, 'duration': 4.28}, {'text': 'clear the list', 'start': 338.039, 'duration': 2.66}, {'text': "okay so there's a lot going on here and", 'start': 341.58, 'duration': 4.559}, {'text': "it's all heavily nested in this function", 'start': 344.58, 'duration': 4.02}, {'text': 'which makes it hard to follow', 'start': 346.139, 'duration': 5.4}, {'text': "so let's apply extraction and inversion", 'start': 348.6, 'duration': 4.86}, {'text': 'to flatten', 'start': 351.539, 'duration': 4.321}, {'text': 'the first two big candidates here are', 'start': 353.46, 'duration': 3.72}, {'text': 'the two big branches of download', 'start': 355.86, 'duration': 5.399}, {'text': 'processing pending and in progress', 'start': 357.18, 'duration': 6.78}, {'text': "so let's extract these out", 'start': 361.259, 'duration': 4.861}, {'text': "we'll move the pending part to process", 'start': 363.96, 'duration': 2.73}, {'text': 'pending', 'start': 366.12, 'duration': 3.69}, {'text': '[Music]', 'start': 366.69, 'duration': 3.12}, {'text': 'and in progress to process in progress', 'start': 372.96, 'duration': 5.239}, {'text': 'foreign', 'start': 379.4, 'duration': 4.72}, {'text': "that's a bit better", 'start': 381.86, 'duration': 4.3}, {'text': 'but this in progress function is still', 'start': 384.12, 'duration': 4.5}, {'text': 'too deep for my liking', 'start': 386.16, 'duration': 5.22}, {'text': 'the worst offender is this HTTP air', 'start': 388.62, 'duration': 6.019}, {'text': "section so let's move that out as well", 'start': 391.38, 'duration': 6.18}, {'text': "now we'll keep extracting further in our", 'start': 394.639, 'duration': 4.18}, {'text': 'run function', 'start': 397.56, 'duration': 5.4}, {'text': 'we have four major sections of our code', 'start': 398.819, 'duration': 6.541}, {'text': 'where we process incoming requests from', 'start': 402.96, 'duration': 3.84}, {'text': 'the queue', 'start': 405.36, 'duration': 4.559}, {'text': 'where we deal with our current downloads', 'start': 406.8, 'duration': 4.92}, {'text': 'where we clear out the in-progress', 'start': 409.919, 'duration': 3.181}, {'text': 'downloads', 'start': 411.72, 'duration': 3.24}, {'text': 'and where we wait for the signal that', 'start': 413.1, 'duration': 3.719}, {'text': "there's new downloads to look at", 'start': 414.96, 'duration': 4.88}, {'text': "so let's do it", 'start': 416.819, 'duration': 3.021}, {'text': 'so now our main function clearly', 'start': 429.12, 'duration': 5.04}, {'text': 'outlines the steps that are happening', 'start': 431.46, 'duration': 4.679}, {'text': 'you can see the high level logic I', 'start': 434.16, 'duration': 3.84}, {'text': 'described before', 'start': 436.139, 'duration': 3.78}, {'text': 'and if you were to dig into any of these', 'start': 438.0, 'duration': 5.539}, {'text': 'functions there are also concise', 'start': 439.919, 'duration': 3.62}, {'text': 'at the beginning of this video I', 'start': 444.06, 'duration': 4.44}, {'text': 'mentioned that Linus torvald is a', 'start': 446.34, 'duration': 4.68}, {'text': 'suspected never Nester', 'start': 448.5, 'duration': 4.44}, {'text': 'and I say this because in the Linux', 'start': 451.02, 'duration': 4.799}, {'text': 'kernel Style Guidelines they state if', 'start': 452.94, 'duration': 4.259}, {'text': 'you need more than three levels of', 'start': 455.819, 'duration': 4.44}, {'text': "indentation you're screwed anyway and", 'start': 457.199, 'duration': 6.081}, {'text': 'should fix your program', 'start': 460.259, 'duration': 3.021}, {'text': 'the kernel dudes are always so dramatic', 'start': 463.62, 'duration': 5.94}, {'text': 'they visually enforce this by making the', 'start': 467.52, 'duration': 5.28}, {'text': 'tab size 8 characters wide this is what', 'start': 469.56, 'duration': 5.759}, {'text': 'eight characters look like with heavy', 'start': 472.8, 'duration': 3.959}, {'text': 'nesting', 'start': 475.319, 'duration': 2.78}, {'text': 'yeah', 'start': 476.759, 'duration': 4.44}, {'text': "I'll admit I'm not that committed to the", 'start': 478.099, 'duration': 7.241}, {'text': 'cause but I am into limiting indentation', 'start': 481.199, 'duration': 5.94}, {'text': 'I believe that constraining how much you', 'start': 485.34, 'duration': 5.699}, {'text': 'Nest forces you to write better code', 'start': 487.139, 'duration': 6.06}, {'text': 'if you notice instead of one large', 'start': 491.039, 'duration': 5.1}, {'text': 'function that handles many things we now', 'start': 493.199, 'duration': 5.161}, {'text': 'have small concise functions that have', 'start': 496.139, 'duration': 4.68}, {'text': 'one responsibility', 'start': 498.36, 'duration': 4.64}, {'text': 'what do you think', 'start': 500.819, 'duration': 7.32}, {'text': '[Music]', 'start': 503.0, 'duration': 7.68}, {'text': 'oh', 'start': 508.139, 'duration': 2.541}]