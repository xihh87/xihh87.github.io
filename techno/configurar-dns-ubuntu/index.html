<!doctype html><html lang=es-mx><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Configurar DNS en Ubuntu</title>
<link rel=stylesheet media=screen href=https://joshua.haase.mx/css/theme.min.2ee1317322f9eb9b2ef0a618d19b20e38c11f5f9c310751400a45db225dd2626.css integrity="sha256-LuExcyL565su8KYY0Zsg44wR9fnDEHUUAKRdsiXdJiY="><script src=https://hypothes.is/embed.js></script></head><body><main><article><h1>Configurar DNS en Ubuntu</h1><nav id=TableOfContents></nav><p>La configuración de los DNS antes se hacía en <code>/etc/resolv.conf</code>
y se configuraba globalmente.</p><p>Ahora en los sistemas con <code>systemd</code>
se utiliza el sistema <code>resolvectl</code>
que permite configurar un DNS diferente por cada interfaz de red.</p><p>Eso tal vez podría tener ventajas,
pero ahora es más difícil evitar usar la configuración
que entrega la red por DHCP.</p><p>En una red que te bloquea activamente,
es ventajoso poder <a href=https://andrea.corbellini.name/2020/04/28/ubuntu-global-dns/ target=_blank rel=noopener>usar DNS configurado por nosotros</a>.</p><pre tabindex=0><code># file=/etc/systemd/resolved.conf
[resolve]
DNS=1.1.1.1 1.0.0.1 2606:4700:4700::1111 2606:4700:4700::1001
 […]
</code></pre><pre tabindex=0><code># file: /etc/NetworkManager/conf.d/dns.conf
[main]
dns=none
systemd-resolved=false
</code></pre><pre tabindex=0><code># systemctl restart systemd-resolved NetworkManager
</code></pre></article></main></body></html>