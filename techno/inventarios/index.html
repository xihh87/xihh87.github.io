<!doctype html><html lang=es-mx><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Inventarios usando awk</title><link rel=stylesheet media=screen href=https://joshua.haase.mx/css/theme.min.2ee1317322f9eb9b2ef0a618d19b20e38c11f5f9c310751400a45db225dd2626.css integrity="sha256-LuExcyL565su8KYY0Zsg44wR9fnDEHUUAKRdsiXdJiY="></head><body><main><article><h1>Inventarios usando <code>awk</code></h1><nav id=TableOfContents><ul><li><a href=#el-formato-del-archivo>El formato del archivo</a></li></ul></nav><p>A veces es necesario llevar un inventario de las cosas y entonces uno piensa en software especializado.
Si quiere uno algo profesional, busca algo con una base de datos y muchas características.
Si no, cuando menos se usa un Excel.</p><p>El Excel es fácil pero tiene varias desventajas:</p><ul><li>El software para usarlo es muy pesado.</li><li>El formato no puede leerse más que con un programa especializado.</li><li>La búsqueda no es específica y no se pueden usar varios criterios de búsqueda a la vez.</li><li>Difícilmente guardará un historial de los cambios.</li></ul><p>Una base de datos es muy poderosa, pero:</p><ul><li>Requiere conocimientos especializados.</li><li>Muchas veces el trabajo de mantener la base es por sí solo difícil.</li><li>Muchas veces hay que configurar la base antes de poder usarla.</li><li>Si la base de datos es relacional, modificar la estructura de la base es difícil.</li></ul><p>El problema es que Excel está a medio camino entre una base de datos de verdad y
las bases de datos son muy complejas para la mayoría de las necesidades de inventariar.</p><h1 id=solución><a href=#soluci%c3%b3n alt>Solución</a> <a href=# alt="Regresar al inicio">↑</a></h1><p>Hacer un archivo de texto con los campos necesarios y
se realiza la búsqueda con <code>awk</code>.</p><p>Esto sólo funciona para inventarios pequeños (unos cuantos miles de registros)
y donde no se realicen varias consultas por segundo
porque se realiza la búsqueda sobre todos los registros.</p><p>Sin embargo ha servido bien para las necesidades de un departamento en una empresa grande
y creo que serviría bien para muchos inventarios de la gente de a pie.</p><h2 id=el-formato-del-archivo><a href=#el-formato-del-archivo alt>El formato del archivo</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>La primera vez hice un archivo separado por saltos de líneas(¶),
con campos separados por tabuladores (→), p.e.:</p><pre><code>nombre→Leonardo¶
colores→rojo→azuL→amarillo¶
¶
nombre→Ricardo Manuel Eugenio¶
colores→azuL→gris¶
¶
</code></pre><p>El código para buscar en <code>awk</code>:</p><pre><code>BEGIN{
  IGNORECASE=true;
  RS=&quot;&quot;;
  FS=&quot;\n&quot;;
}
/nombre.*leonardo/{print $0}
</code></pre><p>Pero claro que uno no va a estar haciendo la consulta cada vez.</p></article></main></body></html>