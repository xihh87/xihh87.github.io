<!doctype html><html lang=es-mx><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Editor de texto</title><link rel=stylesheet media=screen href=https://joshua.haase.mx/css/theme.min.c631e12f4e2b4b8b5282c3d94590678b7a225e8caccee02c0d37dac1838d6a61.css integrity="sha256-xjHhL04rS4tSgsPZRZBni3oiXoyszuAsDTfawYONamE="><script src=https://hypothes.is/embed.js></script></head><body><main><article><h1>Editor de texto</h1><nav id=TableOfContents><ul><li><a href=#mi-configuración-actual>Mi configuración actual</a></li><li><a href=#usando-nvim>Usando <code>nvim</code></a><ul><li><a href=#servidor-de-lenguaje>Servidor de Lenguaje</a></li><li><a href=#tmux>Tmux</a><ul><li><a href=#cambiar-ventanas-de-lugar>Cambiar ventanas de lugar</a></li><li><a href=#activar-el-mouse-en-tmux>Activar el mouse en <code>tmux</code></a></li></ul></li><li><a href=#revisar-ortografía>Revisar ortografía</a></li><li><a href=#mostrar-tabs-en-vim>Mostrar tabs en vim</a></li><li><a href=#validar-archivos-usando-un-esquema>Validar archivos usando un esquema</a><ul><li><a href=#esquema-yaml-para-github>Esquema yaml para github</a></li><li><a href=#revisar-archivo-toml-contra-un-esquema>Revisar archivo TOML contra un esquema</a></li></ul></li><li><a href=#validar-un-toml-que-usa-schema>Validar un TOML que usa <code>#:schema</code></a></li><li><a href=#ejecutar-comandos-asíncronos-en-nvim>Ejecutar comandos asíncronos en <code>nvim</code></a></li><li><a href=#agregar-movimientos-para-objetos-del-lsp>Agregar movimientos para objetos del LSP</a></li></ul></li><li><a href=#mi-entorno-soñado>Mi entorno soñado</a></li><li><a href=#comandos-que-podría-llegar-a-usar>Comandos que podría llegar a usar</a></li><li><a href=#configuración-de-plugins>Configuración de plugins</a></li><li><a href=#curiosidades-acerca-de-ciberseguridad>Curiosidades acerca de ciberseguridad</a></li></ul></nav><h2 id=mi-configuración-actual><a href=#mi-configuraci%c3%b3n-actual alt>Mi configuración actual</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Mi editor preferido es <a href=https://github.com/martanne/vis target=_blank rel=noopener>vis</a>,
porque no se mete en tu camino,
te permite ejecutar cualquier comando sobre el texto
y permite usar <a href=doc.cat-v.org/bell_labs/structural_regexps/>expresiones regulares estructurales</a>.</p><p>También me gusta:</p><ul><li><p>la posibilidad de seleccionar texto y ejecutarlo de <a href=http://acme.cat-v.org/ target=_blank rel=noopener>acme</a>.</p></li><li><p>los múltiples plugins de <a href=https://neovim.io/ target=_blank rel=noopener>nvim</a>.</p></li><li><p>las revisiones automáticas de <a href=https://www.jetbrains.com/idea/ target=_blank rel=noopener>IntelliJ IDEA</a>,
sus funciones de refactorización,
y las acciones contextuales.</p><p>Sin embargo, cuando uso IntelliJ me siento frustrado por la imposibilidad
de hacer más de una acción en la terminal y termino abriendo una consola nueva
y un editor de texto que funciona en la consola.</p></li></ul><p>A pesar de su funcionalidad y múltiples plugins no me gusta <a href=https://code.visualstudio.com/ target=_blank rel=noopener>VS Code</a>,
porque es un <em>navegador</em> que implementa un editor de texto dentro
y, por lo tanto, consume demasiados recursos para lo que hace,
se siente lento y no me permite usar fácilmente las herramientas de mi sistema operativo.</p><p>Uso comúnmente mientras desarrollo un script que ejecuta un comando
cada que cambian los archivos que indico:</p><pre tabindex=0><code>build-on-change &#34;$(shell expansion to list all files)&#34; command --to-build
</code></pre><p><del>Al parecer la gente hace lo mismo usando <a href=https://facebook.github.io/watchman/ target=_blank rel=noopener>watchman</a>,
pero <code>watchman</code> no me gusta porque no muestra por defecto la salida
del proceso en ejecución.</del></p><p>Encontré <a href=https://github.com/watchexec/watchexec target=_blank rel=noopener><code>watchexec</code></a> (<a href=https://watchexec.github.io/index.html target=_blank rel=noopener>doc</a>)
que hace esto mismo y funciona en linux y osx.</p><p>Intenté usar <a href=https://github.com/zyedidia/sregx target=_blank rel=noopener><code>sregx</code></a> para
<a href=https://gitlab.com/xihh87/nvim-config/-/issues/2 target=_blank rel=noopener>reemplazar la funcionalidad de expresiones regulares edtructurales de <code>vis</code></a>
pero <a href=https://github.com/zyedidia/sregx/issues/4 target=_blank rel=noopener>tuve problemas con unicode</a>.</p><h2 id=usando-nvim><a href=#usando-nvim alt>Usando <code>nvim</code></a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Comencé a usar <code>nvim</code> porque <a href=../programaci%c3%b3n-a-pares-con-ia>quería probar GitHub Copilot</a>
y no quería usar VS Code.
(Desafortunadamente no funciona con <code>vis</code>.)</p><div style=position:relative;padding-bottom:56.25%;overflow:hidden><iframe style=position:absolute;width:100%;height:100% src=https://www.youtube.com/embed/x1TEI0MxmkI allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy=strict-origin-when-cross-origin allowfullscreen referrerpolicy=strict-origin-when-cross-origin frameborder=0></iframe></div></br><p>Así que <a href=https://gitlab.com/xihh87/nvim-config/ target=_blank rel=noopener>lo configuré</a>
pensándolo como una verdadera alternativa.</p><p>Aún no:</p><ul><li>☐ <a href=https://bruhtus.github.io/posts/vim-statusline/ target=_blank rel=noopener>Configuro</a> <a href=https://nuxsh.is-a.dev/blog/custom-nvim-statusline.html target=_blank rel=noopener>statusline</a>,</li><li>☐ <a href=https://jdhao.github.io/2019/07/31/nvim_show_file_path/ target=_blank rel=noopener>Agrego el</a> <a href=https://vi.stackexchange.com/questions/104/how-can-i-see-the-full-path-of-the-current-file target=_blank rel=noopener>path a mi archivo</a></li><li>☒ <del>Uso <code>vim-taskwiki</code> (que dejé de usar porque las pruebas unitarias fallaban y no funcionaba correctamente)</del>.</li><li>☐ <a href>Genero un atajo para usar <code>new</code> y agregar mis plantillas al documento</a>.</li><li><input checked disabled type=checkbox> <a href=https://christitus.com/neovim-is-better/ target=_blank rel=noopener>Tutorial para configurar nvim</a></li></ul><p>(Update 2024-05-10):</p><p>Hoy estuve <a href='https://www.youtube.com/watch?v=-ybCiHPWKNA' target=_blank rel=noopener>viendo videos</a> acerca de cómo configurar neovim
y aproveché para copiar actualizar mi configuración
usando <a href='https://github.com/nvim-lua/kickstart.nvim?tab=readme-ov-file' target=_blank rel=noopener>kickstat</a>.</p><div style=position:relative;padding-bottom:56.25%;overflow:hidden><iframe style=position:absolute;width:100%;height:100% src=https://www.youtube.com/embed/-ybCiHPWKNA allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy=strict-origin-when-cross-origin allowfullscreen referrerpolicy=strict-origin-when-cross-origin frameborder=0></iframe></div></br><div style=position:relative;padding-bottom:56.25%;overflow:hidden><iframe style=position:absolute;width:100%;height:100% src='https://www.youtube-nocookie.com/embed/videoseries?si=s9u48b5W5UYUNjyH&amp;list=PLsz00TDipIffreIaUNk64KxTIkQaGguqn' title="YouTube video player" frameborder=0 allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy=strict-origin-when-cross-origin allowfullscreen></iframe></div></br><p>En esta exploración me encontré esta <a href=https://miragiancycle.github.io/OVIWrite/ target=_blank rel=noopener>distro de neovim para escritores</a>
que tal vez quiera probar después.</p><div style=position:relative;padding-bottom:56.25%;overflow:hidden><iframe style=position:absolute;width:100%;height:100% src=https://www.youtube.com/embed/2ORWaIqyj7k allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy=strict-origin-when-cross-origin allowfullscreen referrerpolicy=strict-origin-when-cross-origin frameborder=0></iframe></div></br><p><a href=https://blog.epheme.re/software/nvim-kickstart.html target=_blank rel=noopener>Conviene usar kickstart al empezar a usar neovim</a>.</p><p>neovim <a href=https://github.com/nvim-neorg/neorg target=_blank rel=noopener>puede usar org-mode</a>.</p><p><a href=https://a2nb.medium.com/neovim-config-from-scratch-1ea808b4d44c target=_blank rel=noopener>Otro ejemplo de configuración</a>.</p><h3 id=servidor-de-lenguaje><a href=#servidor-de-lenguaje alt>Servidor de Lenguaje</a> <a href=# alt="Regresar al inicio">↑</a></h3><p>Microsoft inventó <a href=https://microsoft.github.io/language-server-protocol/overviews/lsp/overview/ target=_blank rel=noopener>un protocolo para comunicarse entre herramientas de desarrollo</a>
(<a href=https://microsoft.github.io/language-server-protocol/specifications/lsp/3.17/specification/ target=_blank rel=noopener>spec</a>,
<a href=https://microsoft.github.io/language-server-protocol/implementors/servers/ target=_blank rel=noopener>herramientas</a>,
<a href=https://deepwiki.com/neovim/nvim-lspconfig/ target=_blank rel=noopener>deepwiki</a>)
y <a href=https://neovim.io/doc/user/lsp.html target=_blank rel=noopener><code>neovim</code> puede utilizarlo</a>
(<a href=https://vonheikemen.github.io/devlog/tools/setup-nvim-lspconfig-plus-nvim-cmp/ target=_blank rel=noopener>quickstart</a>).</p><h3 id=tmux><a href=#tmux alt>Tmux</a> <a href=# alt="Regresar al inicio">↑</a></h3><p>Uso <code>tmux</code> dentro de <code>byobu</code> porque claramente es mejor que <code>screen</code>.
El biombo está pre-configurado, con atajos de teclado simples y ayuda.</p><h4 id=cambiar-ventanas-de-lugar><a href=#cambiar-ventanas-de-lugar alt>Cambiar ventanas de lugar</a> <a href=# alt="Regresar al inicio">↑</a></h4><p>Se puede <a href=https://tmuxai.dev/tmux-rearrange-panes/ target=_blank rel=noopener>mover ventanas entre paneles de <code>tmux</code></a> usando:</p><pre tabindex=0><code><kbd>Escape-sequence</kbd> :move-pane -t [session]:&lt;window&gt;.&lt;split&gt;
</code></pre><p><code>window</code> y <code>split</code> son números comenzando desde cero.</p><h4 id=activar-el-mouse-en-tmux><a href=#activar-el-mouse-en-tmux alt>Activar el mouse en <code>tmux</code></a> <a href=# alt="Regresar al inicio">↑</a></h4><p>Uso esto para redimensionar porque olvido fácil el atajo en byobu.</p><pre tabindex=0><code><kbd>Escape-sequence</kbd> :set -g mouse &lt;on/off&gt;
</code></pre><h3 id=revisar-ortografía><a href=#revisar-ortograf%c3%ada alt>Revisar ortografía</a> <a href=# alt="Regresar al inicio">↑</a></h3><p>El <a href=https://neovim.io/doc/user/spell.html target=_blank rel=noopener>manual de revisión ortográfica para <code>nvim</code></a>
dice que se pueden usar los siguientes comandos para revisar ortografía:</p><ul><li><code>]s</code> va a la siguiente falta de ortografía.</li><li>si el cursor está en una falta ortográfica:<ul><li><code>z=</code> muestra las opciones correctas.</li><li><code>zg</code> agrega la palabra al diccionario.</li></ul></li></ul><h3 id=mostrar-tabs-en-vim><a href=#mostrar-tabs-en-vim alt>Mostrar tabs en vim</a> <a href=# alt="Regresar al inicio">↑</a></h3><pre tabindex=0><code>:set listchars=tab:→:
:set invlist
</code></pre><h3 id=validar-archivos-usando-un-esquema><a href=#validar-archivos-usando-un-esquema alt>Validar archivos usando un esquema</a> <a href=# alt="Regresar al inicio">↑</a></h3><h4 id=esquema-yaml-para-github><a href=#esquema-yaml-para-github alt>Esquema yaml para github</a> <a href=# alt="Regresar al inicio">↑</a></h4><p>Encontré <a href=https://www.arthurkoziel.com/json-schemas-in-neovim/ target=_blank rel=noopener>esta solución para yaml</a>
pero tendría que traducirla para lazy:</p><pre tabindex=0><code>   {
     &#34;someone-stole-my-name/yaml-companion.nvim&#34;,
     dependencies = {
       &#34;neovim/nvim-lspconfig&#34;,
       &#34;nvim-telescope/telescope.nvim&#34;,
       &#34;nvim-lua/plenary.nvim&#34;,
     },
     config = function()
       local cfg = require(&#34;yaml-companion&#34;).setup{
         schemas = {
           {
             name = &#34;Flux GitRepository&#34;,
             uri = &#34;https://raw.githubusercontent.com/fluxcd-community/flux2-schemas/main/gitrepository-source-v1.json&#34;,
           }
         },
         lspconfig = {
           settings = {
             yaml = {
               validate = true,
               schemaStore = {
                 enable = false,
                 url = &#34;&#34;,
               },
               schemas = {
                 [&#39;https://json.schemastore.org/github-workflow.json&#39;] = &#39;.github/workflows/*.{yml,yaml}&#39;,
               }
             }
           }
         }
       }
       require(&#34;lspconfig&#34;)[&#34;yamlls&#34;].setup(cfg)
       require(&#34;telescope&#34;).load_extension(&#34;yaml_schema&#34;)
     end,
   }
</code></pre><h4 id=revisar-archivo-toml-contra-un-esquema><a href=#revisar-archivo-toml-contra-un-esquema alt>Revisar archivo TOML contra un esquema</a> <a href=# alt="Regresar al inicio">↑</a></h4><p>Cómo configurar nvim para validar tomls con taplo usando el esquema indicado en <code>#:schema</code>.</p><h3 id=validar-un-toml-que-usa-schema><a href=#validar-un-toml-que-usa-schema alt>Validar un TOML que usa <code>#:schema</code></a> <a href=# alt="Regresar al inicio">↑</a></h3><ul><li>Añade la referencia al esquema en el TOML, por ejemplo:
<code>#:schema https://example.com/schema.json</code>
<code>title = "ejemplo"</code></li><li>Ejecuta la comprobación: <code>taplo check config.toml</code></li></ul><p>Si el fichero contiene <code>#:schema</code> Taplo detecta la referencia y la usa automáticamente para validar.</p><h3 id=ejecutar-comandos-asíncronos-en-nvim><a href=#ejecutar-comandos-as%c3%adncronos-en-nvim alt>Ejecutar comandos asíncronos en <code>nvim</code></a> <a href=# alt="Regresar al inicio">↑</a></h3><p>Se ejecutan con <code>:Dispatch &lt;commando></code>,
pero pueden autoconfigurarse usando autocomandos:</p><pre tabindex=0><code></code></pre><h3 id=agregar-movimientos-para-objetos-del-lsp><a href=#agregar-movimientos-para-objetos-del-lsp alt>Agregar movimientos para objetos del LSP</a> <a href=# alt="Regresar al inicio">↑</a></h3><p>Aquí explican <a href=https://ofirgall.github.io/learn-nvim/chapters/05-text-objects.html target=_blank rel=noopener>como agregar movimientos para elementos del lenguaje de programación</a>.</p><h2 id=mi-entorno-soñado><a href=#mi-entorno-so%c3%b1ado alt>Mi entorno soñado</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Me gustaría tener una interfaz gráfica con el poder de composición
de los programas de terminal</p><p>Pienso en un sistema que:</p><ul><li><p>☐ Guarde el estado del trabajo actual
(y permita cambiar entre diferentes entornos):</p><ul><li><p>☐ Disposición y acomodo del trabajo</p></li><li><p>☐ Programas en ejecución</p></li><li><p>☐ Posición en archivo del documento
(esto posiblemente lo hacen los programas)</p></li></ul><p>Sospecho que todas las funciones de guardado
se acomodarían bien a una implementación como sistema de archivos.</p><p>Por otro lado, <a href=https://www.reddit.com/r/neovim/comments/10r2ej3/how_to_get_nvim_to_remember_last_open_buffers/ target=_blank rel=noopener>en neovim se pueden usar sesiones</a>.
Se usan con
<a href=https://github.com/rmagatti/auto-session target=_blank rel=noopener>algún</a>
<a href=https://github.com/gennaro-tedesco/nvim-possession target=_blank rel=noopener>plugins</a>
o <a href=https://vi.stackexchange.com/questions/287/how-to-save-window-split-and-buffer-layout target=_blank rel=noopener>la función <code>:mksession</code></a>.</p><p><a href=https://stackoverflow.com/questions/7894330/preserve-last-editing-position-in-vim target=_blank rel=noopener>También hay plugins y comandos para mantener posición en el archivo</a>.</p></li><li><p><input checked disabled type=checkbox> Permita ejecutar acciones dependiendo del contexto:</p><ul><li><p>Al hacer click en algún lugar donde se pueda ejecutar una acción
muestre un menú contextual.</p></li><li><p>Muestre consejos acerca del uso del sistema.</p></li><li><p><a href=https://langserver.org/ target=_blank rel=noopener>Para eso sirven los LSP</a>
que se pueden usar con <code>:Mason</code>.</p></li></ul></li><li><p>☐ Permita personalizar la visualización del contenido.</p></li><li><p>☐ Permita ejecutar:</p><ul><li><p>☐ revisiones automáticas del contenido.</p></li><li><p>☐ acciones programadas al acceder a ciertos archivos.</p></li></ul></li><li><p>☐ Esté diseñado para el aprendizaje:</p><ul><li><p>☐ Al empezar a usarlo te informa lo esencial.</p></li><li><p>☐ Muestra acciones en contexto.</p></li><li><p>☐ Tiene documentación pública, editable y buscable.</p><p>El formato de la documentación sería texto, video e interactivo.</p></li></ul></li><li><p>☐ La configuración de los programas puede hacerse mediante una interfaz gráfica,
pero se guarda en un formato nativo de la aplicación
utilizando <a href=http://cr.yp.to/qmail/qmailsec-20071101.pdf title="En cómputo dos clases de interfaces: buenas interfaces e interfaces de usuario" target=_blank rel=noopener>la menor cantidad posible de interpretación</a>.</p></li><li><p>☐ Permitir configurar con <a href=https://editorconfig.org/ target=_blank rel=noopener>editorconfig</a>
para que se pueda usar el editor preferido.</p></li></ul><h2 id=comandos-que-podría-llegar-a-usar><a href=#comandos-que-podr%c3%ada-llegar-a-usar alt>Comandos que podría llegar a usar</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Es posible <a href=https://superuser.com/questions/410982/in-vim-how-can-i-quickly-switch-between-tabs target=_blank rel=noopener>cambiar de tabs</a> con <code>gt</code> y <code>gT</code>.</p><p>Se puede <a href=https://vi.stackexchange.com/questions/44785/is-it-posible-to-disable-replacing-to-the-current-file-in-commands/44786#44786 target=_blank rel=noopener>usar <kbd>Ctrl + F</kbd> para ejecta comandos sobre los comandos</a>.</p><h2 id=configuración-de-plugins><a href=#configuraci%c3%b3n-de-plugins alt>Configuración de plugins</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Usé <a href=https://www.lazyvim.org/configuration/plugins target=_blank rel=noopener>lazy</a>,
y no estaba cargando <a href=https://www.lazyvim.org/configuration/plugins target=_blank rel=noopener>fugitive</a>.
Para solucionar esto, agregué <code>event = VimEnter</code> a la configuración de fugitive.</p><ul><li>[?] Probar <a href=https://github.com/jesseduffield/lazygit target=_blank rel=noopener>lazygit</a>.</li></ul><h2 id=curiosidades-acerca-de-ciberseguridad><a href=#curiosidades-acerca-de-ciberseguridad alt>Curiosidades acerca de ciberseguridad</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Ya había pensado que sólo teniendo acceso a un editor se pueden ejecutar comandos,
y sin embargo no había caído en la cuenta de lo mucho que dependía de la configuración del sistema.</p><p>Jugando <a href=https://overthewire.org/wargames/bandit/ target=_blank rel=noopener>bandit</a> aprendí que
<code>vim</code> permite configurar la consola que usa para los comandos:</p><pre tabindex=0><code>:set shell /bin/bash
</code></pre></article><section id=list><h2>Recursos</h2><ul class=contents></ul></section></main></body></html>