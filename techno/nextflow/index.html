<!doctype html><html lang=es-mx><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Trucos para Nextflow</title>
<link rel=stylesheet media=screen href=https://joshua.haase.mx/css/theme.min.2ee1317322f9eb9b2ef0a618d19b20e38c11f5f9c310751400a45db225dd2626.css integrity="sha256-LuExcyL565su8KYY0Zsg44wR9fnDEHUUAKRdsiXdJiY="></head><body><main><article><h1>Trucos para Nextflow</h1><nav id=TableOfContents><ul><li><a href=#usar-scripts-de-awk-en-nextflow>Usar scripts de awk en Nextflow</a></li><li><a href=#usar-la-salida-de-un-proceso-varias-veces>Usar la salida de un proceso varias veces</a></li><li><a href=#flujos-de-trabajo-preconstruidos-en-nextflow>Flujos de trabajo preconstruidos en Nextflow</a></li></ul></nav><p>/home/x/xihh/techno.nomia.mx</p><h2 id=usar-scripts-de-awk-en-nextflow><a href=#usar-scripts-de-awk-en-nextflow alt>Usar scripts de awk en Nextflow</a> <a href=# alt="Regresar al inicio">↑</a></h2><pre tabindex=0><code>process awk {
input:

output:

shell:
&#34;&#34;&#34;
awk -f &#39;{print $1}&#39; !inputfile &gt; !outputfile
&#34;&#34;&#34;
}
</code></pre><h2 id=usar-la-salida-de-un-proceso-varias-veces><a href=#usar-la-salida-de-un-proceso-varias-veces alt>Usar la salida de un proceso varias veces</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>I&rsquo;m implementing a Nextflow workflow where each process can give multiple outputs that may be needed downstream on different processes.</p><pre tabindex=0><code>process multiple_outputs {
   input:
   tuple id, input from previous_process

   output:
   tuple id, input_for_a, input_for_b, input_for_a_b into downstream
}
</code></pre><p>Nextflow documentation states that <a href=https://www.nextflow.io/docs/latest/operator.html#into target=_blank rel=noopener>operator into can use multiple channels</a> and <a href=https://github.com/nextflow-io/patterns/blob/master/docs/channel-duplication.adoc target=_blank rel=noopener>promotes channel duplication as a pattern</a>.</p><p>However none of these options seems to work inside <a href='https://www.nextflow.io/docs/latest/process.html?highlight=clause#multiple-output-files' target=_blank rel=noopener>the process primitive</a> and <a href='https://www.nextflow.io/docs/latest/process.html?highlight=clause#outputs' target=_blank rel=noopener>multiple channel output is not documented</a>:</p><ul><li><p>The pattern [found on this answer][value-channels &ldquo;This person seems to be trying to re-use the output by converting it to a value channel&rdquo;] (syntax error):</p><pre tabindex=0><code>output:
tuple id, input_for_a, input_for_b, input_for_a_b into { downstream_a; downstream_b }
// nor these variants:
//
// `into { downstream_a, downstream_b }`
// `into downstream_a, downstream_b`
// `into tuple a, b`
</code></pre></li><li><p>Repeating the output into duplicated channels (one channel is empty):</p><pre tabindex=0><code>output:
tuple id, input_for_a, input_for_a_b into downstream_a
tuple id, input_for_b, input_for_a_b into downstream_b
// runs, but cannot find the file in one of the channels
</code></pre></li></ul><p>Which is the right way to use the output in multiple channels?</p><h2 id=flujos-de-trabajo-preconstruidos-en-nextflow><a href=#flujos-de-trabajo-preconstruidos-en-nextflow alt>Flujos de trabajo preconstruidos en Nextflow</a> <a href=# alt="Regresar al inicio">↑</a></h2></article></main></body></html>