<!doctype html><html lang=es-mx><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Notas acerca de almacenamiento</title><link rel=stylesheet media=screen href=https://joshua.haase.mx/css/theme.min.2ee1317322f9eb9b2ef0a618d19b20e38c11f5f9c310751400a45db225dd2626.css integrity="sha256-LuExcyL565su8KYY0Zsg44wR9fnDEHUUAKRdsiXdJiY="></head><body><main><article><h1>Notas acerca de almacenamiento</h1><nav id=TableOfContents><ul><li><a href=#redundant-array-of-inexpensive-disks-raid>Redundant Array of Inexpensive Disks (RAID)</a><ul><li><a href=#raid-0>RAID 0</a></li><li><a href=#raid-1>RAID 1</a></li><li><a href=#raid-5>RAID 5</a></li><li><a href=#raid-6>RAID 6</a></li></ul></li><li><a href=#btrfs>BTRFS</a><ul><li><a href=#opciones-recomendadas11>Opciones recomendadas^[11]</a></li><li><a href=#quitar-un-disco-de-btrfs>Quitar un disco de BTRFS</a></li><li><a href=#agregar-un-disco>Agregar un disco</a></li><li><a href=#comprimir-archivos>Comprimir archivos</a></li><li><a href=#reemplazar-un-disco-fallido>Reemplazar un disco fallido</a></li><li><a href=#mantenimiento>Mantenimiento</a></li><li><a href=#mostrar-errores-en-btrfs-si-aparecen-en-el-log-actual-de-linux>Mostrar errores en BTRFS (si aparecen en el log actual de Linux)</a></li><li><a href=#tiene-espacio-pero-no-se-usa21>Tiene espacio pero no se usa^[21]</a></li><li><a href=#se-puede-recuperar-la-información>Se puede recuperar la información</a></li><li><a href=#plan-para-recuperación12>Plan para recuperación^[12]</a></li></ul></li><li><a href=#zfs15>ZFS^[15]</a></li><li><a href=#referencias>Referencias</a><ul><li><a href=#pendientes>Pendientes:</a></li></ul></li><li><a href=#sistemas-de-archivos>Sistemas de archivos</a></li><li><a href=#protocolos-para-asignar-almacenamiento>Protocolos para asignar almacenamiento</a></li><li><a href=#una-comparación-de-varias-formas-de-almacenamiento-para-virtualización><a href=http://www-03.ibm.com/industries/ca/en/education/k12/technical/whitepapers/storagenetworking.pdf title="Demystifying DAS, SAN, NAS, NAS Gateways, Fibre Channel, and iSCSI">Una comparación de varias formas de almacenamiento para virtualización</a></a></li><li><a href=#almacenamiento-en-cintas-para-respaldos>Almacenamiento en cintas para respaldos</a></li><li><a href=#almacenamiento-en-forma-de-clave-y-valor>Almacenamiento en forma de clave y valor</a></li><li><a href=#almacenamiento-para-big-data>Almacenamiento para big data</a></li><li><a href=#almacenamiento-para-big-data-1>Almacenamiento para big data</a></li><li><a href=#gestionar-quotas-con-btrfs>Gestionar quotas con BTRFS</a></li></ul></nav><h2 id=redundant-array-of-inexpensive-disks-raid><a href=#redundant-array-of-inexpensive-disks-raid alt>Redundant Array of Inexpensive Disks (RAID)</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Es una forma de arreglar los discos para guardar la información.</p><p>SAN hace deduplicación, almacenamiento diferencial, paridad ^[1].</p><p>SAS: hace mejor corrección de errores que SATA ^[1].</p><p>RAID no protege ante corrupción silenciosa de datos en el disco^[1].</p><h3 id=raid-0><a href=#raid-0 alt>RAID 0</a> <a href=# alt="Regresar al inicio">↑</a></h3><p>Junta todos los discos. Si uno se daña, todo se pierde.</p><h3 id=raid-1><a href=#raid-1 alt>RAID 1</a> <a href=# alt="Regresar al inicio">↑</a></h3><p>Hay dos copias de la información,
sólo se puede usar la mitad del espacio en el disco.</p><h3 id=raid-5><a href=#raid-5 alt>RAID 5</a> <a href=# alt="Regresar al inicio">↑</a></h3><p>El espacio equivalente a un disco se usa para corrección de errores (información de paridad),
pero se distribuye entre todos los discos.</p><p>Si</p><p>a) se muere un disco y
b) NO hay errores de lectura</p><p>se recupera la información después de un largo tiempo de espera al reemplazar el disco que falla^[7].</p><p>Es muy probable que la reconstrucción falle
porque los errores de lectura son muy frecuentes^[2].</p><h3 id=raid-6><a href=#raid-6 alt>RAID 6</a> <a href=# alt="Regresar al inicio">↑</a></h3><p>El espacio equivalente a dos discos se usa para corrección de errores
pero se distribuye entre todos los discos.</p><p>Si</p><p>a) se muere un disco y
b) no hay errores de lectura para las dos copias de la misma información de paridad</p><p>se recupera la información al reemplazar el disco
después de un largo tiempo de espera.</p><p>Es muy improbable que se pierda la información
suponiendo que los errores están distribuidos aleatoriamente^[citation-needed].</p><p>Sin embargo,
es mucho más lento que la duplicación de datos (RAID 1)
y varios artículos advierten en contra de usar este tipo de arreglo^[6, 7, 8]</p><p>Este arreglo no proveerá protección cuando la capacidad de los discos individuales sea mayor,
se espera que esto será común en 2017.^[17]</p><h2 id=btrfs><a href=#btrfs alt>BTRFS</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Puede guardar las cosas en varios discos,
se puede elegir qué se duplica y qué no,
así como si usar compresión en archivos.</p><p>BTRFS protege los datos contra errores silenciosos en el disco^[1].</p><p>No es necesario particionar,
pero es conveniente para tener una partición de recuperación^[12]
o para tener swap^[14].</p><h3 id=opciones-recomendadas11><a href=#opciones-recomendadas11 alt>Opciones recomendadas^[11]</a> <a href=# alt="Regresar al inicio">↑</a></h3><pre tabindex=0><code>noatime,compress=lzo,space_cache,autodefrag
</code></pre><p>Para SSD:</p><pre tabindex=0><code>noatime,compress=lzo,ssd,discard,space_cache,autodefrag
</code></pre><p>Si se tiene un número de archivos muy grande (como en una db)^[11,13] :</p><pre tabindex=0><code>inode_cache
</code></pre><h3 id=quitar-un-disco-de-btrfs><a href=#quitar-un-disco-de-btrfs alt>Quitar un disco de BTRFS</a> <a href=# alt="Regresar al inicio">↑</a></h3><pre tabindex=0><code># btrfs device delete /dev/sdX /mnt
</code></pre><h3 id=agregar-un-disco><a href=#agregar-un-disco alt>Agregar un disco</a> <a href=# alt="Regresar al inicio">↑</a></h3><pre tabindex=0><code># btrfs device add /dev/sdX /mnt
### El balanceo es necesario para poder usar todo el espacio disponible.
### Toma mucho tiempo pero puede hacerse mientras se trabaja en otras cosas.
# btrfs balance start -v /mnt
</code></pre><h3 id=comprimir-archivos><a href=#comprimir-archivos alt>Comprimir archivos</a> <a href=# alt="Regresar al inicio">↑</a></h3><p>Para convertir los archivos descomprimidos en archivos comprimidos^[17]:</p><pre tabindex=0><code>sudo find /path -type f -exec btrfs filesystem defragment -c {} &#39;;&#39;
</code></pre><h3 id=reemplazar-un-disco-fallido><a href=#reemplazar-un-disco-fallido alt>Reemplazar un disco fallido</a> <a href=# alt="Regresar al inicio">↑</a></h3><ol><li><p>Agregar el nuevo disco y exponerlo al sistema operativo.</p></li><li><p>Montar el sistema btrfs degradado</p></li></ol><pre tabindex=0><code># mount -o degraded /dev/sda1 /mnt
# btrfs filesystem show
# sudo btrfs replace start N /dev/sdXY /mnt
</code></pre><h3 id=mantenimiento><a href=#mantenimiento alt>Mantenimiento</a> <a href=# alt="Regresar al inicio">↑</a></h3><p>Se debe utilizar un proceso para reparar el sistema de archivos:</p><pre tabindex=0><code>btrfs scrub start -v /mnt
</code></pre><p>Se recomienda revisar el log de este proceso para detectar información corrupta.^[12]</p><p>En caso de que el proceso de scrub se detenga inesperadamente
y <code>btrfs scrub cancel /mnt</code> falle:</p><pre tabindex=0><code>perl -pi -e &#39;s/finished:0/finished:1/&#39; /var/lib/btrfs/*
</code></pre><h3 id=mostrar-errores-en-btrfs-si-aparecen-en-el-log-actual-de-linux><a href=#mostrar-errores-en-btrfs-si-aparecen-en-el-log-actual-de-linux alt>Mostrar errores en BTRFS (si aparecen en el log actual de Linux)</a> <a href=# alt="Regresar al inicio">↑</a></h3><pre tabindex=0><code>sudo dmesg | grep BTRFS | grep path | sed -e &#39;s/^.*path: //;s/)$//&#39; | sort | uniq
</code></pre><h3 id=tiene-espacio-pero-no-se-usa21><a href=#tiene-espacio-pero-no-se-usa21 alt>Tiene espacio pero no se usa^[21]</a> <a href=# alt="Regresar al inicio">↑</a></h3><p>Cuando el sistema de archivos indica que no hay espacio pero sí hay,
es necesario rebalancear el sistema:</p><pre tabindex=0><code>RUTA=&#34;/ruta&#34;
sudo btrfs balance start -v -dusage=0 &#34;$RUTA&#34;
</code></pre><p>En caso de que no funcione,
es posible agregar un «disco virtual» para solventar el problema:</p><pre tabindex=0><code>RUTA=&#34;/ruta&#34;
dd if=/dev/zero of=/tmp/btrfs bs=1G count=5
sudo losetup -v -f /tmp/btrfs
sudo btrfs device add /dev/loop0 &#34;$RUTA&#34;
# rebalancear los bloques que tienen menos de 1% de uso.
sudo btrfs balance start -v -dusage=1 &#34;$RUTA&#34;
</code></pre><p>Al terminar, eliminar el disco virtual del sistema de archivos:</p><pre tabindex=0><code>RUTA=&#34;/ruta&#34;
sudo btrfs device delete /dev/loop0 &#34;$RUTA&#34;
sudo losetup -d /dev/loop0
rm /tmp/btrfs
</code></pre><h3 id=se-puede-recuperar-la-información><a href=#se-puede-recuperar-la-informaci%c3%b3n alt>Se puede recuperar la información</a> <a href=# alt="Regresar al inicio">↑</a></h3><pre tabindex=0><code>DISCO=
mount -t btrfs -o recovery,nospace_cache,nospace_cache $DISCO /mnt/
</code></pre><p>Este procedimiento puede causar pérdida de información:</p><pre tabindex=0><code>sudo btrfs-zero-log
</code></pre><p>Puede ayudar cuando hay errores de la forma^[18,19] :</p><pre tabindex=0><code>parent transid verify failed on 4316004352 wanted 289 found 283
</code></pre><h3 id=plan-para-recuperación12><a href=#plan-para-recuperaci%c3%b3n12 alt>Plan para recuperación^[12]</a> <a href=# alt="Regresar al inicio">↑</a></h3><ul><li>Dos particiones para iniciar el S.O.</li><li>El <code>initrd</code> contiene btrfs-progs.</li></ul><hr><p>Se puede guardar el sistema completo en BTRFS,
<a href=https://askubuntu.com/questions/833910/can-i-have-boot-on-btrfs#833912 target=_blank rel=noopener>incluyendo el sistema de arranque</a></p><p>Además <a href=https://nerdstuff.org/posts/2020/2020-004_arch_linux_luks_btrfs_systemd-boot/ target=_blank rel=noopener>se puede cifrar un volumen BTRFS si se usa encima de una partición LUKS</a>,
<a href=https://superuser.com/questions/931298/grub2-boot-as-btrfs-subvolume target=_blank rel=noopener>GRUB se puede configurar para arrancar en BTRFS</a>
y <a href=https://www.howtoforge.com/boot-on-btrfs-with-debian target=_blank rel=noopener>Debian tiene su documentación para lograrlo</a>.</p><h2 id=zfs15><a href=#zfs15 alt>ZFS^[15]</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Es un sistema de archivos de 5a generación,
tiene todas las ventajas de btrfs,
usa CoW (Copy on Write) para hacer fotos de ¿archivos, pools, filesystems, todos sus elementos?
utiliza 128 bits para identificar los archivos.</p><p>Permite hacer RAID-Z (usar varios discos y n copias de la información de paridad)
pero esta parece ser una mala idea.</p><p>Todas las operaciones son concurrentes.</p><p>Guarda su configuración independiente del archivo de configuración del sistema.</p><p>Se puede utilizar un <code>pool</code> de discos como bloque
y escribir sobre él otro sistema de archivos (p.e. Lustre).</p><p>Requiere mucha RAM para funcionar correctamente.</p><p>La licencia CDDL impide integrarlo a Linux^[12]
(aunque Oracle podría relicenciarlo).
El soporte en Linux es a través de FUSE,
tiene problemas de desempeño
y está abandonado^[16].
También existen parches para usar nativamente ZFS^[16].</p><h2 id=referencias><a href=#referencias alt>Referencias</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>[1]: RAID: Obsolete? New Tech BTRFS/ZFS and &ldquo;traditional&rdquo; RAID - TekEnterprise
<a href='https://www.youtube.com/watch?v=yAuEgepZG_8' target=_blank rel=noopener>https://www.youtube.com/watch?v=yAuEgepZG_8</a></p><p>[2]: Why you should not use RAID 5 storage (but use RAID 6) - ThioJoeTech
<a href='https://www.youtube.com/watch?v=A2OxG2UjiV4' target=_blank rel=noopener>https://www.youtube.com/watch?v=A2OxG2UjiV4</a></p><p>[3]: Understanding Hard Drive Types, RAID and RAID Controllers on Dell PowerEdge and Blade Chassis Servers
Article ID: SLN129581
Last Date Modified: 07/19/2016 09:37 AM
<a href=http://www.dell.com/support/article/us/en/04/SLN129581 target=_blank rel=noopener>http://www.dell.com/support/article/us/en/04/SLN129581</a></p><p>[4]: Linux Don’t Need No Stinkin’ ZFS: BTRFS Intro & Benchmarks - By Jeffrey B. Layton
Tuesday, April 21st, 2009
<a href=http://www.linux-mag.com/id/7308/ target=_blank rel=noopener>http://www.linux-mag.com/id/7308/</a></p><p>[5]: A Guide to Synology BTRFS NAS file system - Advance in Network Attached Storage or just a gimmick? - SPANdotCOM
Publicado el 16 feb. 2016
<a href='https://www.youtube.com/watch?v=er0889N40Ko' target=_blank rel=noopener>https://www.youtube.com/watch?v=er0889N40Ko</a></p><p>[6]: My case for BTRFS over ZFS
Tom Cameron
Saturday, February 15, 2014 at 3:27PM
<a href=http://drdabbles.us/journal/2014/2/15/my-case-for-btrfs-over-zfs.html target=_blank rel=noopener>http://drdabbles.us/journal/2014/2/15/my-case-for-btrfs-over-zfs.html</a></p><p>[7]: Why RAID 6 stops working in 2019
By Robin Harris for Storage Bits
February 22, 2010 &ndash; 06:50 GMT (22:50 PST)
<a href=http://www.zdnet.com/article/why-raid-6-stops-working-in-2019/ target=_blank rel=noopener>http://www.zdnet.com/article/why-raid-6-stops-working-in-2019/</a></p><p>[8]: RAID 6 &ndash; Do you really want it?
Guy Murrel | in The Enterprise Cloud
June 8, 2007, 4:08 AM PST
<a href=http://www.techrepublic.com/blog/the-enterprise-cloud/raid-6-do-you-really-want-it/ target=_blank rel=noopener>http://www.techrepublic.com/blog/the-enterprise-cloud/raid-6-do-you-really-want-it/</a></p><p>[9]: Using Btrfs with Multiple Devices
14 May 2016, at 12:27
<a href=https://btrfs.wiki.kernel.org/index.php/Using_Btrfs_with_Multiple_Devices target=_blank rel=noopener>https://btrfs.wiki.kernel.org/index.php/Using_Btrfs_with_Multiple_Devices</a></p><p>[10]: Bitrot and atomic COWs: Inside “next-gen” filesystems
Jim Salter - 1/15/2014, 7:00 AM
<a href=http://arstechnica.com/information-technology/2014/01/bitrot-and-atomic-cows-inside-next-gen-filesystems/ target=_blank rel=noopener>http://arstechnica.com/information-technology/2014/01/bitrot-and-atomic-cows-inside-next-gen-filesystems/</a></p><p>[11]: Preventing a btrfs Nightmare | LAS 320
# Notes: How I saved myself from a btrfs nightmare
<a href=http://www.jupiterbroadcasting.com/61572/preventing-a-btrfs-nightmare-las-320/ target=_blank rel=noopener>http://www.jupiterbroadcasting.com/61572/preventing-a-btrfs-nightmare-las-320/</a></p><p>[12]: Why you should consider using btrfs &mldr; like Google does.
Linux.conf.au 2015 &ndash; Auckland, New Zealand
Publicado el 16 ene. 2015
<a href='https://www.youtube.com/watch?v=6DplcPrQjvA' target=_blank rel=noopener>https://www.youtube.com/watch?v=6DplcPrQjvA</a></p><p>[13]: Mount options - btrfs Wiki
<a href=https://btrfs.wiki.kernel.org/index.php/Mount_options target=_blank rel=noopener>https://btrfs.wiki.kernel.org/index.php/Mount_options</a></p><p>[14]: Btrfs - Archlinux Wiki
<a href=https://wiki.archlinux.org/index.php/Btrfs target=_blank rel=noopener>https://wiki.archlinux.org/index.php/Btrfs</a></p><p>[15]: ZFS - The last word on filesystems
Bill Moore, Sr Staff Engineer
Sun Microsystems
<a href=http://drdabbles.us/journal/2014/2/15/my-case-for-btrfs-over-zfs.html target=_blank rel=noopener>http://drdabbles.us/journal/2014/2/15/my-case-for-btrfs-over-zfs.html</a></p><p>[16]: ZFS - Wikipedia
<a href=https://en.wikipedia.org/wiki/ZFS target=_blank rel=noopener>https://en.wikipedia.org/wiki/ZFS</a></p><p>[17]: Oracle® Linux - Administrator&rsquo;s Solutions Guide for Release 6
# 5.4 Compressing and Defragmenting a Btrfs File System
<a href=https://docs.oracle.com/cd/E37670_01/E37355/html/ol_use_case1_btrfs.html target=_blank rel=noopener>https://docs.oracle.com/cd/E37670_01/E37355/html/ol_use_case1_btrfs.html</a></p><p>[18]: BTRFS – transid issue explained and fix
<a href=http://ram.kossboss.com/btrfs-transid-issue-explained-fix/ target=_blank rel=noopener>http://ram.kossboss.com/btrfs-transid-issue-explained-fix/</a></p><p>[19]: Problem FAQ - BTRFS wiki
<a href=https://btrfs.wiki.kernel.org/index.php/Problem_FAQ#parent_transid_verify_failed target=_blank rel=noopener>https://btrfs.wiki.kernel.org/index.php/Problem_FAQ#parent_transid_verify_failed</a></p><p>[20]: Best practice for 24 Disk Array - Stack Overflow
<a href=http://serverfault.com/questions/713901/best-practice-for-24-disk-array target=_blank rel=noopener>http://serverfault.com/questions/713901/best-practice-for-24-disk-array</a></p><p>[21]: Fixing Btrfs Filesystem Full Problems - Marc&rsquo;s Public Blog - Linux Btrfs Blog Posts
<a href=http://marc.merlins.org/perso/btrfs/post_2014-05-04_Fixing-Btrfs-Filesystem-Full-Problems.html target=_blank rel=noopener>http://marc.merlins.org/perso/btrfs/post_2014-05-04_Fixing-Btrfs-Filesystem-Full-Problems.html</a></p><h3 id=pendientes><a href=#pendientes alt>Pendientes:</a> <a href=# alt="Regresar al inicio">↑</a></h3><p>Sysadmin Guide
11 June 2016, at 10:01
<a href=https://btrfs.wiki.kernel.org/index.php/SysadminGuide target=_blank rel=noopener>https://btrfs.wiki.kernel.org/index.php/SysadminGuide</a></p><p>Use Cases
16 June 2016, at 14:20
<a href=https://btrfs.wiki.kernel.org/index.php/UseCases target=_blank rel=noopener>https://btrfs.wiki.kernel.org/index.php/UseCases</a></p><p>Raid 5 - <a href=http://goo.gl/OLkbjT target=_blank rel=noopener>http://goo.gl/OLkbjT</a></p><p><a href=https://en.wikipedia.org/wiki/Category:Distributed_file_systems_supported_by_the_Linux_kernel target=_blank rel=noopener>https://en.wikipedia.org/wiki/Category:Distributed_file_systems_supported_by_the_Linux_kernel</a></p><h2 id=sistemas-de-archivos><a href=#sistemas-de-archivos alt>Sistemas de archivos</a> <a href=# alt="Regresar al inicio">↑</a></h2><p><a href=https://www.ibm.com/developerworks/library/l-linux-storage/index.html target=_blank rel=noopener>Características de varios sistemas de almacenamientos y sistemas de archivos con enlace a explicación de cada uno</a></p><h2 id=protocolos-para-asignar-almacenamiento><a href=#protocolos-para-asignar-almacenamiento alt>Protocolos para asignar almacenamiento</a> <a href=# alt="Regresar al inicio">↑</a></h2><h2 id=una-comparación-de-varias-formas-de-almacenamiento-para-virtualización><a href=#una-comparaci%c3%b3n-de-varias-formas-de-almacenamiento-para-virtualizaci%c3%b3n alt><a href=http://www-03.ibm.com/industries/ca/en/education/k12/technical/whitepapers/storagenetworking.pdf title="Demystifying DAS, SAN, NAS, NAS Gateways, Fibre Channel, and iSCSI" target=_blank rel=noopener>Una comparación de varias formas de almacenamiento para virtualización</a></a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Las librerías SAN están optimizadas para rendimiento y escalabilidad.</p><p>NAS está optimizado para facilidad de gestión y su uso sobre red.</p><h2 id=almacenamiento-en-cintas-para-respaldos><a href=#almacenamiento-en-cintas-para-respaldos alt>Almacenamiento en cintas para respaldos</a> <a href=# alt="Regresar al inicio">↑</a></h2><p><a href=https://events.static.linuxfound.org/sites/events/files/slides/SMR%20in%20Linux%20Systems%20-%20Vault.pdf title="SMR in Linux Systems" target=_blank rel=noopener>Shingle Magnetic Recording - Viene con estadísticas de varios sistemas de archivos</a></p><h2 id=almacenamiento-en-forma-de-clave-y-valor><a href=#almacenamiento-en-forma-de-clave-y-valor alt>Almacenamiento en forma de clave y valor</a> <a href=# alt="Regresar al inicio">↑</a></h2><p><a href=https://www.snia.org/sites/default/files/SDC15_presentations/smr/QingchaoLuo_Implement_Object_Storage_SMR_Key-Value_Store.pdf title="Implement Object Storage with SMR based Key-Value Store" target=_blank rel=noopener>El uso de llave, valor para almacenar objetos permite manejar archivos</a>:</p><ul><li>actualizados infrecuentemente</li><li>almacenados por mucho tiempo</li><li>de valor indefinido</li></ul><blockquote><p>Object storage is implemented in a variety of ways within Linux,
including support for the Object Storage Device (OSD) specification
as well as within the Linux clUSTER (Lustre)
and Extended Object File System (exofs).</p><p><a href=https://www.ibm.com/developerworks/library/l-linux-storage/index.html target=_blank rel=noopener>https://www.ibm.com/developerworks/library/l-linux-storage/index.html</a></p></blockquote><blockquote><p>A similar technology exists called content-addressable storage (CAS)
that uses a hash of the data to identify its name and address.
This technology, also known as fixed-content storage (FCS),
is advantageous, because it&rsquo;s easy to identify duplicate data:
The hash (if strong enough) will be the same and permit simple de-duplication.
The Venti architecture supports this approach and exists within Linux (in addition to the Plan 9 distribution of Bell Labs).</p><p><a href=https://www.ibm.com/developerworks/library/l-linux-storage/index.html target=_blank rel=noopener>https://www.ibm.com/developerworks/library/l-linux-storage/index.html</a></p></blockquote><p><a href=https://searchstorage.techtarget.com/feature/Is-enterprise-object-storage-ready-to-lead target=_blank rel=noopener>Agregar discos de estado sólido puede resolver algunos problemas</a>.</p><p><a href=https://searchstorage.techtarget.com/tip/Reasons-to-choose-Ceph-storage-over-traditional-alternatives target=_blank rel=noopener>Si tienes una red a 10G, puedes mejorar el rendimiento de tu almacenamiento con Ceph</a>.</p><p><a href=https://searchstorage.techtarget.com/answer/How-do-I-enable-file-sharing-on-Ceph-object-storage target=_blank rel=noopener>https://searchstorage.techtarget.com/answer/How-do-I-enable-file-sharing-on-Ceph-object-storage</a></p><h2 id=almacenamiento-para-big-data><a href=#almacenamiento-para-big-data alt>Almacenamiento para big data</a> <a href=# alt="Regresar al inicio">↑</a></h2><p><a href=https://searchstorage.techtarget.com/magazineContent/Storage-for-big-data target=_blank rel=noopener>Debes considerar la capacidad, la latencia y los IOPS</a></p><p><a href=https://searchcio.techtarget.com/news/252442637/Edge-computing-helps-IT-execs-in-managing-large-data-sets target=_blank rel=noopener>Procesar en la periferia es una buena estrategia de análisis</a></p><h2 id=almacenamiento-para-big-data-1><a href=#almacenamiento-para-big-data-1 alt>Almacenamiento para big data</a> <a href=# alt="Regresar al inicio">↑</a></h2><p><a href=https://searchstorage.techtarget.com/magazineContent/Storage-for-big-data target=_blank rel=noopener>Debes considerar la capacidad, la latencia y los IOPS</a></p><p>Integrar discos de estado sólido puede ayudar.</p><p><a href=https://searchstorage.techtarget.com/podcast/Storage-considerations-for-a-big-data-infrastructure target=_blank rel=noopener>El almacenamiento por objetos es el futuro del big data</a>.</p><p><a href=https://searchstorage.techtarget.com/podcast/Cloud-object-storage-makes-scalability-a-reality-An-expert-podcast target=_blank rel=noopener>Sin embargo es necesario tener buen rendimiento en el hardware que lo implementa si quieres que sea el almacenamiento primario</a>.</p><h2 id=gestionar-quotas-con-btrfs><a href=#gestionar-quotas-con-btrfs alt>Gestionar quotas con BTRFS</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Listar los grupos de quotas.</p><pre tabindex=0><code># btrfs qgroup show -pcre ${SUBVOL_PATH}
</code></pre><p>Se puede tener un formato más amigable con scripts</p><p>Para activar el sistema de quotas:</p><pre tabindex=0><code># btrfs quota enable ${SUBVOL_PATH}
</code></pre><p>La gestión de las quotas se hace con</p><pre tabindex=0><code># btrfs qgroup limit ${LIMIT} ${SUBVOL_PATH}
</code></pre><p>Listar los grupos de quotas.</p><pre tabindex=0><code># btrfs qgroup show -pcre ${SUBVOL_PATH}
</code></pre><p><a href=https://btrfs.wiki.kernel.org/index.php/Quota_support target=_blank rel=noopener>Se puede tener un formato más amigable con scripts personalizados</a>.</p><p><a href=https://btrfs.wiki.kernel.org/index.php/Quota_support#Known_issues target=_blank rel=noopener>Problemas conocidos del uso de quotas</a>:</p><ul><li><p>Hay impacto en el rendimiento del equipo.</p></li><li><p>Sólo se miden el uso de las quotas
después de activar el sistema de quotas.</p><p>Se puede usar <code>btrfs quota rescan ${PATH}</code> para recalcular el uso.</p></li></ul></article></main></body></html>