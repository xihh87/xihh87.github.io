<!doctype html><html lang=es-mx><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Cómo desarrollar JS usando TDD</title>
<link rel=stylesheet media=screen href=https://joshua.haase.mx/css/theme.min.2ee1317322f9eb9b2ef0a618d19b20e38c11f5f9c310751400a45db225dd2626.css integrity="sha256-LuExcyL565su8KYY0Zsg44wR9fnDEHUUAKRdsiXdJiY="></head><body><main><article><h1>Cómo desarrollar JS usando TDD</h1><p>Me gusta Desarrollar Dirigido por Pruebas (Test Driven Development) porque permite saber que todo funciona como se espera <a href=#fn1 class=footnote-ref id=fnref1 role=doc-noteref><sup>1</sup></a>, avisa cuando los problemas importantes están resueltos y cuando hay un error facilita identificar dónde está.</p><p>Las pruebas <a href=https://medium.com/javascript-scene/tdd-changed-my-life-5af0ce099f80>empoderan al equipo para hacer cambios sin miedo</a>.</p><p>Diseñar el código para evaluarlo tiene ventajas porque promueve que el código sea modular, acoplado suavemente, bien documentado<a href=#fn2 class=footnote-ref id=fnref2 role=doc-noteref><sup>2</sup></a> y otras buenas prácticas.</p><p>También creo que es importante tener automatizado lo más posible a la hora de programar. Automatizar el estilo de código <a href=https://medium.com/javascript-scene/streamline-code-reviews-with-eslint-prettier-6fb817a6b51d>tiene ventajas como</a>:</p><ul><li>Evitar discrepancias,</li><li>Concentrarse en el código en vez del estilo,</li><li>Detectar errores.</li></ul><p>Estoy haciendo el sistema de solicitud de garantía en un sitio estático para una pequeña empresa. Estoy implementando el código con AWS Lambda, y para la interacción en el sitio web hice un pequeño formulario.</p><p>Para la función lambda, tengo pruebas unitarias que verifican que el código funciona y uso eventos obtenidos de la aplicación para verificar que la aplicación funciona con entradas reales.</p><p>Para la presentación, tuve que hacer un sistema que recibe la información de la solicitud y envía una respuesta.</p><p>Sin embargo, encuentro difícil verificar la integración del sistema y verificar que además de pasar mis pruebas como eventos aislados, también el sistema completo funciona.</p><p>Entonces me puse a buscar cómo generar un sistema automatizado para probar código en desarrollos de este tipo.</p><p>Una de las cosas que encontré es que para proyectos grandes, <a href=https://atomicobject.com/uploads/archive/files/PF_March2005.pdf>conviene hacer los presentadores primero</a>.</p><p><a href=https://github.com/davidjnelson/single-page-app-boilerplate>Este proyecto para desarrollar aplicaciones JS</a>.</p><hr><p>Ahora que tengo un proyecto donde uso <code>JavaScript</code> quisiera poder probar la interacción, pero me he enfrentado a que hay muchos componentes móviles:</p><ul><li>El navegador,</li><li>El servidor web,</li><li>La Función Lambda</li></ul><p>Parece que mucha gente utiliza <code>npm</code> para desarrollar JavaScript.</p><p>Parece que <a href=https://github.com/ericelliott/riteway><code>riteway</code></a> está diseñado para <a href=https://medium.com/javascript-scene/rethinking-unit-test-assertions-55f59358253f>pruebas que responden las 5 preguntas importantes al reportar errores de software</a>:</p><ul><li>¿Qué se está probando?</li><li>¿Cuál es el comportamiento esperado?</li><li>¿Cuál es el resultado esperado?</li><li>¿Cuál fue el resultado obtenido?</li><li>¿Cómo reproduces la falla?</li></ul><h2 id=estas-herramientas-surgieron-en-un-proyecto>Estas herramientas surgieron en un proyecto</h2><p><code>vite</code> es el sistema más cómodo que he usado para desarrollar JS, tal vez porque <a href=https://esbuild.github.io/faq/#benchmark-details>su sistema de empaquetado está escrito en Go</a>, recarga los cambios instantáneamente, y puede instalarse junto con un sistema de pruebas unitarias compatible (<code>vitest</code>).</p><p>Además, usa un modelo de composición para hacer cosas complejas.</p><p>Para iniciar un proyecto con <a href=https://vitejs.dev/guide/><code>vite</code></a> + <a href=https://vuejs.org/><code>vue</code></a>:</p><pre><code>npm create vite@latest project-name -- --template vue
cd project-name
npm install -D vitest @vue/test-utils</code></pre><h2 id=instalar-paquetes-usando-npm>Instalar paquetes usando npm</h2><p>Para instalar paquetes en el directorio actual:</p><pre><code>npm install --prefix . paquete1@version […] paquete_n</code></pre><section class=footnotes role=doc-endnotes><hr><ol><li id=fn1 role=doc-endnote><p>Siempre es posible que también funcione como no se espera, Gödel nos enseñó que es imposible que un sistema formal sea completo.<a href=#fnref1 class=footnote-back role=doc-backlink>↩︎</a></p></li><li id=fn2 role=doc-endnote><p>Las pruebas automatizadas son documentación.<a href=#fnref2 class=footnote-back role=doc-backlink>↩︎</a></p></li></ol></section></article></main></body></html>