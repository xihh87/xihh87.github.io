<!doctype html><html lang=es-mx><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Cómo monitorear con SNMP</title><link rel=stylesheet media=screen href=https://joshua.haase.mx/css/theme.min.c631e12f4e2b4b8b5282c3d94590678b7a225e8caccee02c0d37dac1838d6a61.css integrity="sha256-xjHhL04rS4tSgsPZRZBni3oiXoyszuAsDTfawYONamE="><script src=https://hypothes.is/embed.js></script></head><body><main><article><h1>Cómo monitorear con SNMP</h1><nav id=TableOfContents><ul><li><a href=#comprobar-conexión-con-snmp>Comprobar conexión con SNMP</a></li><li><a href=#herramientas-para-visualizar-snmp>Herramientas para visualizar SNMP</a></li><li><a href=#procesar-la-información-es-complejo>Procesar la información es complejo</a></li></ul></nav><p>El <a href=https://www.digitalocean.com/community/tutorials/an-introduction-to-snmp-simple-network-management-protocol target=_blank rel=noopener>Protocolo Simple de Administración de Red (SNMP)</a>
(<a href=https://www.rfc-editor.org/rfc/rfc1157#section-4.1.1 target=_blank rel=noopener>RFC</a>, <a href=https://stackoverflow.com/a/67471278/10467443 target=_blank rel=noopener>RFC List</a>)
permite monitorear el estado de la red
y <a href=https://www.comparitech.com/net-admin/snmp-community-strings-windows-linux/ target=_blank rel=noopener>sus primeras 2 versiones son inseguras</a>.</p><p><a href=https://www.ranecommercial.com/legacy/note161.html target=_blank rel=noopener>Descripción del protocolo SNMP</a></p><p>La información está organizada en la <a href=https://www.alvestrand.no/objectid/1.3.6.1.2.1.html target=_blank rel=noopener><em>Management Information Base</em></a>
y <a href='http://tools.cisco.com/Support/SNMP/do/BrowseOID.do?local=en&amp;substep=2&amp;translate=Translate&amp;tree=NO' title="Parece que únicamente para clientes" target=_blank rel=noopener>CISCO tiene una herramienta para buscar</a>.</p><p>La información se entrega como <em>Object Identifier</em> (OID).
<a href=https://www.comparitech.com/net-admin/snmp-mibs-oids-explained/ target=_blank rel=noopener>Tu proveedor suele explicar los OID</a>.</p><p><a href=https://www.dnsstuff.com/snmp-traps-explained-how-to-view target=_blank rel=noopener>Se pueden usar SNMP Traps</a>
para transmitir alarmas.
<a href=https://www.comparitech.com/net-admin/snmp-trap/ target=_blank rel=noopener>Es un mensaje que pide que leas la información porque hay un problema</a>
y se envía por UDP 162.</p><h2 id=comprobar-conexión-con-snmp><a href=#comprobar-conexi%c3%b3n-con-snmp alt>Comprobar conexión con SNMP</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Se puede <a href=https://www.comparitech.com/net-admin/snmpwalk-examples-windows-linux/ target=_blank rel=noopener>comprobar una conexión usando <code>snmpwalk</code></a>:</p><pre tabindex=0><code>snmpwalk -v2c -c ${COMUNITY} ${HOST}
</code></pre><p>(<a href=https://www.digitalocean.com/community/tutorials/how-to-use-the-net-snmp-tool-suite-to-manage-and-monitor-servers target=_blank rel=noopener>Otro tutorial para pedir información de SNMP</a></p><p><a href=https://www.logicmonitor.com/support/monitoring/os-virtualization/snmp-ntp-configuration-for-linux-devices/ target=_blank rel=noopener>SNMP usa los puertos UDP 161 y 123</a>.</p><h2 id=herramientas-para-visualizar-snmp><a href=#herramientas-para-visualizar-snmp alt>Herramientas para visualizar SNMP</a> <a href=# alt="Regresar al inicio">↑</a></h2><ul><li><a href=https://github.com/prometheus/snmp_exporter target=_blank rel=noopener>Prometheus tiene un lector de SNMP</a>.
Supuestamente <a href=https://github.com/prometheus/snmp_exporter#concepts target=_blank rel=noopener>traduce de SNMP a formato de Prometheus</a>.</li><li><a href=https://www.librenms.org/ title="Libre Network Monitoring System" target=_blank rel=noopener>LibreNMS</a>
(<a href=https://docs.librenms.org/Installation/Docker/ target=_blank rel=noopener>instrucciones docker</a>).</li><li><a href=https://oss.oetiker.ch/mrtg/index.en.html target=_blank rel=noopener>Multi Router Traffic Grapher (MRTG)</a>.</li><li><a href=https://www.cacti.net/ target=_blank rel=noopener>Cacti</a></li><li><a href=https://docs.checkmk.com/latest/en/intro_gui.html target=_blank rel=noopener>CheckMk</a>
(<a href=https://docs.checkmk.com/latest/en/snmp.html target=_blank rel=noopener>instrucciones SNMP</a>).</li><li>Icinga.</li><li>Nagios.</li><li>Zabbiz.</li></ul><h2 id=procesar-la-información-es-complejo><a href=#procesar-la-informaci%c3%b3n-es-complejo alt>Procesar la información es complejo</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Para hacer cosas como <a href=https://www.cisco.com/c/en/us/support/docs/ip/simple-network-management-protocol-snmp/61860-fixTCPhang.html target=_blank rel=noopener>encontrar conexiones colgadas</a>
se necesita conocer los OID de interés,
y medirlos de formas</p></article></main></body></html>