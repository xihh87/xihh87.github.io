<!doctype html><html lang=es-mx><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Usar salesforce como fuente de información</title><link rel=stylesheet media=screen href=https://joshua.haase.mx/css/theme.min.2ee1317322f9eb9b2ef0a618d19b20e38c11f5f9c310751400a45db225dd2626.css integrity="sha256-LuExcyL565su8KYY0Zsg44wR9fnDEHUUAKRdsiXdJiY="><script src=https://hypothes.is/embed.js></script></head><body><main><article><h1>Usar salesforce como fuente de información</h1><nav id=TableOfContents><ul><li><a href=#conseguir-token>Conseguir Token</a></li><li><a href=#usar-api>Usar API</a><ul><li><a href=#rest-docs>REST (<a href=https://developer.salesforce.com/docs/marketing/marketing-cloud/guide/rest-api-overview.html>docs</a>)</a></li><li><a href=#simple-salesforce><code>simple-salesforce</code></a></li><li><a href=#consultar-los-campos-de-una-tabla-en-simple-salesforce>Consultar los campos de una tabla en <code>simple-salesforce</code></a></li></ul></li><li><a href=#exportar-los-datos-en-csv-artículo>Exportar los datos en CSV (<a href=https://blog.coupler.io/salesforce-data-export/>artículo</a>)</a></li></ul></nav><p>Para el <a href=/ibero/2023-03-27-propuesta-salesforce/>proyecto de visibilidad de ciencia de datos</a>
se puede aprovechar la información de Salesforce.</p><p>La forma más interesante de hacerlo sería utilizar el <a href=https://developer.salesforce.com/docs/marketing/marketing-cloud/guide/rest-api-overview.html target=_blank rel=noopener>API de Salesforce</a>.</p><p><a href=https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_dev_guide.htm target=_blank rel=noopener>Saleforce tiene su lenguaje de programación APEX</a>
aunque no explica en este documento qué ventaja tiene.</p><p>También <a href=https://developer.salesforce.com/docs/atlas.en-us.dataLoader.meta/dataLoader/data_loader.htm target=_blank rel=noopener>hay una aplicación para descargar datos de Salesforce desde Windows u OSX (Data Loader)</a>.</p><h2 id=conseguir-token><a href=#conseguir-token alt>Conseguir Token</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Se recomienda Saleforce Developer + Lightning Experience UI.</p><p><code>Setup > Apps > App Manager</code></p><pre tabindex=0><code>{instance-URL}/services/data/{API-version}/sobjects/{salesforce-object-resource}
</code></pre><h2 id=usar-api><a href=#usar-api alt>Usar API</a> <a href=# alt="Regresar al inicio">↑</a></h2><h3 id=rest-docs><a href=#rest-docs alt>REST (<a href=https://developer.salesforce.com/docs/marketing/marketing-cloud/guide/rest-api-overview.html target=_blank rel=noopener>docs</a>)</a> <a href=# alt="Regresar al inicio">↑</a></h3><p>La documentación de <a href=https://developer.salesforce.com/docs/marketing/marketing-cloud/guide/rate-limiting-best-practices.html target=_blank rel=noopener>Buenas Prácticas para la API REST de Salesforce</a> recomienan:</p><ul><li>Pedir un token, guardarlo y usarlo hasta que expire.</li><li><a href=https://developer.salesforce.com/docs/marketing/marketing-cloud/guide/routes.html target=_blank rel=noopener>Usar las solicitudes por lote</a>.</li><li>Usar exponential back-off, con activación por código 429.</li></ul><h3 id=simple-salesforce><a href=#simple-salesforce alt><code>simple-salesforce</code></a> <a href=# alt="Regresar al inicio">↑</a></h3><p><a href=https://github.com/simple-salesforce/simple-salesforce target=_blank rel=noopener>La biblioteca para python <code>simple-salesforce</code></a>
permite <a href=https://developer.salesforce.com/blogs/2021/09/how-to-automate-data-extraction-from-salesforce-using-python target=_blank rel=noopener>descargar los datos en tiempo real</a>
para hacer reportes personalizados.</p><p>Se puede <a href=https://developer.salesforce.com/docs/atlas.en-us.sfdx_dev.meta/sfdx_dev/sfdx_dev_auth_jwt_flow.htm#sfdx_dev_auth_jwt_flow target=_blank rel=noopener>usar autenticación por JWT en Salesforce para mejorar la seguridad</a>.</p><p>Para consultar información se usa <a href=http://www.salesforce.com/us/developer/docs/soql_sosl/index.htm target=_blank rel=noopener>Salesforce Query Language</a>.</p><h3 id=consultar-los-campos-de-una-tabla-en-simple-salesforce><a href=#consultar-los-campos-de-una-tabla-en-simple-salesforce alt>Consultar los campos de una tabla en <code>simple-salesforce</code></a> <a href=# alt="Regresar al inicio">↑</a></h3><pre tabindex=0><code>getattr(sf, &#34;TableName&#34;).describe()
</code></pre><p>(Otra <a href=https://stackoverflow.com/questions/8780413/salesforce-soql-query-to-fetch-all-the-fields-on-the-entity target=_blank rel=noopener>alternativa para describir campos usando SOQL</a>)</p><h2 id=exportar-los-datos-en-csv-artículo><a href=#exportar-los-datos-en-csv-art%c3%adculo alt>Exportar los datos en CSV (<a href=https://blog.coupler.io/salesforce-data-export/ target=_blank rel=noopener>artículo</a>)</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>La opción Data Export está disponible en Enterprise, Performance, Unlimited.</p><p>La opción se encuentra en el menú
<code>Home > Data > Data Export > Export Now</code></p><p>Se envía un enlace para descarga.</p><p>En Salesforce Classic: <code>Setup > Data> Data Export</code>.</p></article></main></body></html>