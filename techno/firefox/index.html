<!doctype html><html lang=es-mx><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Anotaciones acerca de firefox</title><link rel=stylesheet media=screen href=https://joshua.haase.mx/css/theme.min.2ee1317322f9eb9b2ef0a618d19b20e38c11f5f9c310751400a45db225dd2626.css integrity="sha256-LuExcyL565su8KYY0Zsg44wR9fnDEHUUAKRdsiXdJiY="><script src=https://hypothes.is/embed.js></script></head><body><main><article><h1>Anotaciones acerca de firefox</h1><nav id=TableOfContents><ul><li><a href=#sincronizar-las-pestañas-de-firefox-en-el-celular>Sincronizar las pestañas de Firefox en el celular</a></li><li><a href=#uso-de-memoria-al-abrir-las-107-pestañas>Uso de memoria al abrir las 107 pestañas</a></li><li><a href=#guardar-las-url-para-no-verlas-desde-firefox>Guardar las URL para no verlas desde Firefox</a></li><li><a href=#desactivar-capacidad-de-videoconferencia>Desactivar capacidad de videoconferencia</a></li><li><a href=#perfil-por-defecto-en-firefox>Perfil por defecto en firefox</a></li><li><a href=#configurar-preferencias-para-todos-los-perfiles>Configurar preferencias para todos los perfiles</a></li><li><a href=#configurar-con-qué-programas-abre-firefox-los-archivos>Configurar con qué programas abre firefox los archivos</a></li><li><a href=#buscador-por-defecto>Buscador por defecto</a></li></ul></nav><h2 id=sincronizar-las-pestañas-de-firefox-en-el-celular><a href=#sincronizar-las-pesta%c3%b1as-de-firefox-en-el-celular alt>Sincronizar las pestañas de Firefox en el celular</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Uso Firefox en el celular y dejo cosas abiertas para leer después
pero prefiero verlas en la computadora cuando existe la posibilidad.</p><p>Firefox sync permite sincronizar, pero hay dos problemas:</p><h2 id=uso-de-memoria-al-abrir-las-107-pestañas><a href=#uso-de-memoria-al-abrir-las-107-pesta%c3%b1as alt>Uso de memoria al abrir las 107 pestañas</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Entrar a <a href=#ZgotmplZ>about:config</a> y modificar la opción <code>browser.tabs.loadInBackground</code> para que diga <code>false</code>.</p><h2 id=guardar-las-url-para-no-verlas-desde-firefox><a href=#guardar-las-url-para-no-verlas-desde-firefox alt>Guardar las URL para no verlas desde Firefox</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Firefox guarda un documento con las páginas que tiene abiertas
en <code>$HOME/.mozilla/firefox/[randomstring].[profilename]/sessionstore-backups/recovery.js</code>.</p><p>Y las URL se pueden extraer con <code>jq</code> (estoy practicando jq):</p><pre tabindex=0><code>FILE=&#34;$HOME/.mozilla/firefox/[randomstring].[profilename]/sessionstore-backups/recovery.js&#34;
jq -r &#39;. &#34;windows&#34; | .[] | . &#34;tabs&#34; | .[] | . &#34;entries&#34; | . [] | . &#34;url&#34;&#39; \
	$FILE
</code></pre><h2 id=desactivar-capacidad-de-videoconferencia><a href=#desactivar-capacidad-de-videoconferencia alt>Desactivar capacidad de videoconferencia</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>En <code>about:config</code> se puede configurar <code>media.peerconnection.enabled</code>.</p><h2 id=perfil-por-defecto-en-firefox><a href=#perfil-por-defecto-en-firefox alt>Perfil por defecto en firefox</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Últimamente uso perfiles distintos de firefox para investigar temas por separado.</p><h2 id=configurar-preferencias-para-todos-los-perfiles><a href=#configurar-preferencias-para-todos-los-perfiles alt>Configurar preferencias para todos los perfiles</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Por el momento <a href=https://gitlab.com/xihh87/my-workstation/blob/master/roles/web_browsing/files/firefox-esr.js target=_blank rel=noopener>gestiono mis preferencias en <code>firefox-esr.js</code></a>
pero podría usar las <a href=https://github.com/mozilla/policy-templates/releases target=_blank rel=noopener>plantillas de políticas oficiales de mozilla</a> en el futuro.</p><p>Se puede utilizar <a href=https://ffprofile.com/ target=_blank rel=noopener>esta herramienta para generar perfil privado de firefox</a>.</p><h2 id=configurar-con-qué-programas-abre-firefox-los-archivos><a href=#configurar-con-qu%c3%a9-programas-abre-firefox-los-archivos alt>Configurar con qué programas abre firefox los archivos</a> <a href=# alt="Regresar al inicio">↑</a></h2><p><a href=https://support.mozilla.org/en-US/kb/change-firefox-behavior-when-open-file target=_blank rel=noopener>Los programas que firefox utiliza están definidos en <code>handlers.json</code></a>
pero <a href=https://support.mozilla.org/bm/questions/1217309 target=_blank rel=noopener>no hay una manera sencilla para configurarlo de fábrica</a>
y <a href='https://bugzilla.mozilla.org/show_bug.cgi?id=1285711' target=_blank rel=noopener>firefox usa los gestores de archivos de la plataforma</a>
<a href=https://unix.stackexchange.com/questions/146904/set-new-default-file-manager-for-firefox-in-archlinux target=_blank rel=noopener>pero puede configurarse con GIO</a>.</p><p>Al parecer se puede agregar un autoconfig
para <a href=https://mike.kaply.com/2016/05/24/default-profile-directory-doesnt-work-in-firefox-46/ target=_blank rel=noopener>copiar los archivos del directorio por defecto</a>
porque <a href=https://mike.kaply.com/2012/03/16/customizing-firefox-autoconfig-files/ target=_blank rel=noopener>firefox ya no copia los archivos de perfil desde la versión 46</a></p><h2 id=buscador-por-defecto><a href=#buscador-por-defecto alt>Buscador por defecto</a> <a href=# alt="Regresar al inicio">↑</a></h2><p>Parece que no es suficiente para el buscador por defecto:</p><pre tabindex=0><code>browser.search.selectedEngine,DuckDuckGo
browser.search.order.1,DuckDuckGo
</code></pre><p>Sino que también parece que se necesitan:</p><pre tabindex=0><code>browser.newtabpage.activity-stream.improvesearch.topSiteSearchShortcuts.searchEngines
browser.newtabpage.activity-stream.improvesearch.topSiteSearchShortcuts.havePinned
</code></pre><p>Se agregó a mi <a href>configuración por defecto del navegador</a> y no fue suficiente.</p><p>Sin efecto cambiar la configuración en la configuración del usuario <a href=https://www.reddit.com/r/linux4noobs/comments/c1wphi/how_to_set_firefoxs_default_search_engine_via_the/ target=_blank rel=noopener>estas instrucciones</a>:</p><pre tabindex=0><code>sed -e &#39;s/Google/DuckDuckGo/&#39; -i ~/.mozilla/firefox/*.default/prefs.js
</code></pre><p>Cambiar <a href=https://support.mozilla.org/en-US/questions/1295935 target=_blank rel=noopener>el archivo search.json.mozlz4</a> tampoco tuvo efecto</p><p>Busco google en los posibles archivos de configuración de firefox:</p><pre tabindex=0><code>dpkg -L firefox-esr \
| grep -vE -e \.png$ -e \.so$ -e \.gz$ -e \.json \
| stest -f \
| stest -v -x \
| xargs ag google
</code></pre><p>Este archivo tiene a google como default:</p><p>/usr/share/firefox-esr/browser/defaults/preferences/firefox.js</p><p>Descargo el archivo de políticas por defecto
siguiendo <a href=https://github.com/mozilla/policy-templates target=_blank rel=noopener>las instrucciones de Mozilla al respecto</a></p><pre tabindex=0><code>curl -LO https://github.com/mozilla/policy-templates/releases/download/v2.10/policy_templates_v2.10.zip
</code></pre><pre tabindex=0><code>user_pref(&#34;browser.newtabpage.pinned&#34;, &#34;[null,{\&#34;url\&#34;:\&#34;https://google.com\&#34;,\&#34;label\&#34;:\&#34;@google\&#34;,\&#34;searchTopSite\&#34;:true}]&#34;);
user_pref(&#34;browser.newtabpage.pinned&#34;, &#34;[null,{\&#34;url\&#34;:\&#34;https://ddg.gg\&#34;,\&#34;label\&#34;:\&#34;@DuckDuckGo\&#34;,\&#34;searchTopSite\&#34;:true}]&#34;);
</code></pre><p>Intenté cambiar google en <code>~/.mozilla/firefox/*.default-esr/prefs.js</code> <a href=https://github.com/jusw85/mozlz4 target=_blank rel=noopener>usando el binario de <code>mozlz4</code> para linux</a>:</p><p><a href='http://forums.mozillazine.org/viewtopic.php?f=38&amp;t=3061416' target=_blank rel=noopener>Este foro</a> refiere a
<a href=https://developer.mozilla.org/en-US/docs/Tools/Browser_Console#Browser_Console_command_line target=_blank rel=noopener>la consola del navegador</a>,
donde se pueden configurar las secuencias, pero
<a href=https://stackoverflow.com/questions/17833853/is-it-possible-to-change-the-default-search-engine-with-a-google-chrome-extensio target=_blank rel=noopener>parece que no se puede establecer un buscador por defecto</a>.</p></article></main></body></html>